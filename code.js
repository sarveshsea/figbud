(()=>{"use strict";class e{static getRequiredFonts(){return[{family:"Inter",style:"Regular"},{family:"Inter",style:"Medium"},{family:"Inter",style:"Bold"},{family:"Roboto",style:"Regular"},{family:"Roboto",style:"Medium"},{family:"Roboto",style:"Bold"}]}static preloadAllFonts(){return e=this,t=void 0,i=function*(){console.log("[FontLoader] Starting font preload...");const e=this.getRequiredFonts();let t=0,a=0;for(const i of e){const e=`${i.family}-${i.style}`;try{yield figma.loadFontAsync(i),this.loadedFonts.add(e),t++,console.log(`[FontLoader] ✓ Loaded ${e}`)}catch(t){a++,console.warn(`[FontLoader] ✗ Failed to load ${e}:`,t)}}if(console.log(`[FontLoader] Font loading complete. Loaded: ${t}, Failed: ${a}`),0===t)throw new Error("[FontLoader] No fonts could be loaded. Plugin cannot continue.")},new((a=void 0)||(a=Promise))(function(o,n){function r(e){try{l(i.next(e))}catch(e){n(e)}}function s(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(r,s)}l((i=i.apply(e,t||[])).next())});var e,t,a,i}static isFontLoaded(e,t){return this.loadedFonts.has(`${e}-${t}`)}static getSafeFont(e="Inter",t="Regular"){if(this.isFontLoaded(e,t))return{family:e,style:t};const a=[{family:"Inter",style:"Regular"},{family:"Roboto",style:"Regular"},{family:"Inter",style:"Medium"},{family:"Roboto",style:"Medium"}];for(const e of a)if(this.isFontLoaded(e.family,e.style))return console.warn(`[FontLoader] Using fallback font: ${e.family} ${e.style}`),e;const i=this.loadedFonts.values().next().value;if(i){const e=i.split("-"),t=e[0]||"Inter",a=e[1]||"Regular";return console.warn(`[FontLoader] Using last resort font: ${t} ${a}`),{family:t,style:a}}throw new Error("[FontLoader] No safe font available")}static getLoadedFonts(){return Array.from(this.loadedFonts)}}e.loadedFonts=new Set;var t=function(e,t,a,i){return new(a||(a=Promise))(function(o,n){function r(e){try{l(i.next(e))}catch(e){n(e)}}function s(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(r,s)}l((i=i.apply(e,t||[])).next())})};class a{static initialize(){this.registerButton(),this.registerCard(),this.registerInput(),this.registerBadge(),this.registerText()}static getTemplate(e){return this.templates.get(e)||null}static registerButton(){this.templates.set("button",{type:"button",name:"Button",description:"Interactive button component",defaultProps:{label:"Button",variant:"primary",size:"medium",width:120,height:40},variants:{primary:{backgroundColor:{r:.298,g:.686,b:.314},textColor:{r:1,g:1,b:1},borderRadius:8},secondary:{backgroundColor:{r:.176,g:.176,b:.176},textColor:{r:1,g:1,b:1},borderRadius:8},danger:{backgroundColor:{r:.956,g:.262,b:.211},textColor:{r:1,g:1,b:1},borderRadius:8}},build:e=>t(this,void 0,void 0,function*(){const t=figma.createFrame();t.name=`Button - ${e.label||"Button"}`;const a={small:{width:80,height:32,fontSize:14,padding:16},medium:{width:120,height:40,fontSize:16,padding:20},large:{width:160,height:48,fontSize:18,padding:24}}[e.size||"medium"];t.resize(a.width,a.height),t.layoutMode="HORIZONTAL",t.primaryAxisAlignItems="CENTER",t.counterAxisAlignItems="CENTER",t.paddingLeft=a.padding,t.paddingRight=a.padding;const i=this.templates.get("button"),o=(null==i?void 0:i.variants[e.variant||"primary"])||(null==i?void 0:i.variants.primary);o&&(t.cornerRadius=o.borderRadius,t.fills=[{type:"SOLID",color:o.backgroundColor}]),t.effects=[{type:"DROP_SHADOW",color:{r:0,g:0,b:0,a:.1},offset:{x:0,y:2},radius:4,visible:!0,blendMode:"NORMAL"}];const n=figma.createText();return yield figma.loadFontAsync({family:"Inter",style:"Medium"}),n.fontName={family:"Inter",style:"Medium"},n.characters=e.label||"Button",n.fontSize=a.fontSize,n.textAlignHorizontal="CENTER",n.fills=o?[{type:"SOLID",color:o.textColor}]:[{type:"SOLID",color:{r:1,g:1,b:1}}],t.appendChild(n),t})})}static registerCard(){this.templates.set("card",{type:"card",name:"Card",description:"Content container with optional shadow",defaultProps:{title:"Card Title",description:"Card description goes here",width:320,height:200,padding:24,elevation:"medium"},variants:{flat:{backgroundColor:{r:.176,g:.176,b:.176},shadowIntensity:0},elevated:{backgroundColor:{r:.176,g:.176,b:.176},shadowIntensity:.1}},build:e=>t(this,void 0,void 0,function*(){const t=figma.createFrame();if(t.name=`Card - ${e.title||"Card"}`,t.resize(e.width||320,e.height||200),t.layoutMode="VERTICAL",t.itemSpacing=16,t.paddingTop=e.padding||24,t.paddingBottom=e.padding||24,t.paddingLeft=e.padding||24,t.paddingRight=e.padding||24,t.cornerRadius=16,t.fills=[{type:"SOLID",color:{r:.176,g:.176,b:.176}}],"none"!==e.elevation){const a="high"===e.elevation?.15:.08;t.effects=[{type:"DROP_SHADOW",color:{r:0,g:0,b:0,a},offset:{x:0,y:4},radius:12,visible:!0,blendMode:"NORMAL"}]}const a=figma.createText();if(yield figma.loadFontAsync({family:"Inter",style:"Bold"}),a.fontName={family:"Inter",style:"Bold"},a.characters=e.title||"Card Title",a.fontSize=20,a.fills=[{type:"SOLID",color:{r:1,g:1,b:1}}],t.appendChild(a),e.description){const a=figma.createText();yield figma.loadFontAsync({family:"Inter",style:"Regular"}),a.fontName={family:"Inter",style:"Regular"},a.characters=e.description,a.fontSize=14,a.fills=[{type:"SOLID",color:{r:.7,g:.7,b:.7}}],a.layoutSizingHorizontal="FILL",t.appendChild(a)}return t})})}static registerInput(){this.templates.set("input",{type:"input",name:"Input Field",description:"Form input field with label",defaultProps:{label:"Email Address",placeholder:"Enter your email",width:280,height:72},variants:{default:{borderColor:{r:.4,g:.4,b:.4},backgroundColor:{r:.118,g:.118,b:.118}},focused:{borderColor:{r:.298,g:.686,b:.314},backgroundColor:{r:.118,g:.118,b:.118}}},build:e=>t(this,void 0,void 0,function*(){const t=figma.createFrame();t.name=`Input - ${e.label||"Input"}`,t.resize(e.width||280,e.height||72),t.layoutMode="VERTICAL",t.itemSpacing=8;const a=figma.createText();yield figma.loadFontAsync({family:"Inter",style:"Medium"}),a.fontName={family:"Inter",style:"Medium"},a.characters=e.label||"Label",a.fontSize=14,a.fills=[{type:"SOLID",color:{r:.8,g:.8,b:.8}}],t.appendChild(a);const i=figma.createFrame();i.resize(e.width||280,40),i.cornerRadius=8,i.fills=[{type:"SOLID",color:{r:.118,g:.118,b:.118}}],i.strokes=[{type:"SOLID",color:{r:.4,g:.4,b:.4}}],i.strokeWeight=1,i.layoutMode="HORIZONTAL",i.primaryAxisAlignItems="CENTER",i.paddingLeft=16,i.paddingRight=16;const o=figma.createText();return yield figma.loadFontAsync({family:"Inter",style:"Regular"}),o.fontName={family:"Inter",style:"Regular"},o.characters=e.placeholder||"Enter text...",o.fontSize=14,o.fills=[{type:"SOLID",color:{r:.5,g:.5,b:.5}}],i.appendChild(o),t.appendChild(i),t})})}static registerBadge(){this.templates.set("badge",{type:"badge",name:"Badge",description:"Small status indicator",defaultProps:{text:"Badge",variant:"success"},variants:{success:{backgroundColor:{r:.298,g:.686,b:.314},textColor:{r:1,g:1,b:1}},warning:{backgroundColor:{r:1,g:.596,b:0},textColor:{r:1,g:1,b:1}},error:{backgroundColor:{r:.956,g:.262,b:.211},textColor:{r:1,g:1,b:1}},info:{backgroundColor:{r:.129,g:.588,b:.953},textColor:{r:1,g:1,b:1}}},build:e=>t(this,void 0,void 0,function*(){const t=figma.createFrame();t.name=`Badge - ${e.text||"Badge"}`,t.layoutMode="HORIZONTAL",t.primaryAxisAlignItems="CENTER",t.counterAxisAlignItems="CENTER",t.paddingLeft=12,t.paddingRight=12,t.paddingTop=4,t.paddingBottom=4,t.cornerRadius=12;const a=this.templates.get("badge"),i=(null==a?void 0:a.variants[e.variant||"success"])||(null==a?void 0:a.variants.success);i&&(t.fills=[{type:"SOLID",color:i.backgroundColor}]);const o=figma.createText();return yield figma.loadFontAsync({family:"Inter",style:"Medium"}),o.fontName={family:"Inter",style:"Medium"},o.characters=e.text||"Badge",o.fontSize=12,i&&(o.fills=[{type:"SOLID",color:i.textColor}]),t.appendChild(o),t.layoutSizingHorizontal="HUG",t.layoutSizingVertical="HUG",t})})}static registerText(){this.templates.set("text",{type:"text",name:"Text",description:"Typography element",defaultProps:{text:"Sample Text",size:"medium",weight:"regular"},variants:{heading:{fontSize:32,fontStyle:"Bold",color:{r:1,g:1,b:1}},subheading:{fontSize:24,fontStyle:"Medium",color:{r:1,g:1,b:1}},body:{fontSize:16,fontStyle:"Regular",color:{r:.8,g:.8,b:.8}},caption:{fontSize:12,fontStyle:"Regular",color:{r:.6,g:.6,b:.6}}},build:e=>t(this,void 0,void 0,function*(){const t=figma.createText(),a="large"===e.size?"heading":"medium"===e.size?"body":"caption",i=this.templates.get("text"),o=(null==i?void 0:i.variants[a])||(null==i?void 0:i.variants.body);return o?(yield figma.loadFontAsync({family:"Inter",style:o.fontStyle}),t.fontName={family:"Inter",style:o.fontStyle},t.characters=e.text||"Sample Text",t.fontSize=o.fontSize,t.fills=[{type:"SOLID",color:o.color}]):(yield figma.loadFontAsync({family:"Inter",style:"Regular"}),t.fontName={family:"Inter",style:"Regular"},t.characters=e.text||"Sample Text",t.fontSize=16),t.name=`Text - ${e.text||"Text"}`,t})})}static createFromTemplate(e,a){return t(this,void 0,void 0,function*(){const t=this.templates.get(e);if(!t)return console.error(`[ComponentLibrary] No template found for type: ${e}`),null;try{const e=Object.assign(Object.assign({},t.defaultProps),a);return yield t.build(e)}catch(t){return console.error(`[ComponentLibrary] Error creating ${e}:`,t),null}})}}a.templates=new Map,a.initialize();const i={colors:{primary:{50:"#EEF2FF",100:"#E0E7FF",200:"#C7D2FE",300:"#A5B4FC",400:"#818CF8",500:"#6366F1",600:"#4F46E5",700:"#4338CA",800:"#3730A3",900:"#312E81",950:"#1E1B4B"},accent:{50:"#FFF1F2",100:"#FFE4E6",200:"#FECDD3",300:"#FDA4AF",400:"#FB7185",500:"#F43F5E",600:"#E11D48",700:"#BE123C",800:"#9F1239",900:"#881337"},neutral:{50:"#FAFAFA",100:"#F4F4F5",200:"#E4E4E7",300:"#D4D4D8",400:"#A1A1AA",500:"#71717A",600:"#52525B",700:"#3F3F46",800:"#27272A",900:"#18181B",950:"#09090B"},success:{light:"#4ADE80",main:"#22C55E",dark:"#16A34A",contrast:"#FFFFFF"},warning:{light:"#FCD34D",main:"#F59E0B",dark:"#D97706",contrast:"#FFFFFF"},error:{light:"#F87171",main:"#EF4444",dark:"#DC2626",contrast:"#FFFFFF"},info:{light:"#60A5FA",main:"#3B82F6",dark:"#2563EB",contrast:"#FFFFFF"},gradient:{primary:"linear-gradient(135deg, #667EEA 0%, #764BA2 100%)",accent:"linear-gradient(135deg, #F093FB 0%, #F5576C 100%)",sunset:"linear-gradient(135deg, #FA8BFF 0%, #2BD2FF 52%, #2BFF88 90%)",ocean:"linear-gradient(135deg, #2E3192 0%, #1BFFFF 100%)",fire:"linear-gradient(135deg, #FC466B 0%, #3F5EFB 100%)",aurora:"linear-gradient(135deg, #00C9FF 0%, #92FE9D 100%)"},glass:{light:"rgba(255, 255, 255, 0.1)",medium:"rgba(255, 255, 255, 0.2)",heavy:"rgba(255, 255, 255, 0.3)",dark:"rgba(0, 0, 0, 0.1)"}},typography:{fontFamily:{sans:'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',mono:'JetBrains Mono, Consolas, Monaco, "Courier New", monospace',display:"Sora, Inter, -apple-system, sans-serif"},fontSize:{xs:12,sm:14,base:16,lg:18,xl:20,"2xl":24,"3xl":30,"4xl":36,"5xl":48,"6xl":60,"7xl":72,"8xl":96,"9xl":128},fontWeight:{thin:100,extralight:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},lineHeight:{none:1,tight:1.25,snug:1.375,normal:1.5,relaxed:1.625,loose:2},letterSpacing:{tighter:-.05,tight:-.025,normal:0,wide:.025,wider:.05,widest:.1}},spacing:{0:0,1:4,2:8,3:12,4:16,5:20,6:24,7:28,8:32,9:36,10:40,12:48,14:56,16:64,20:80,24:96,28:112,32:128,36:144,40:160,44:176,48:192,52:208,56:224,60:240,64:256},radius:{none:0,sm:4,base:8,md:12,lg:16,xl:20,"2xl":24,"3xl":32,full:9999},shadows:{none:"none",xs:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",sm:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)",base:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)",md:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1)",lg:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)",xl:"0 25px 50px -12px rgba(0, 0, 0, 0.25)","2xl":"0 35px 60px -15px rgba(0, 0, 0, 0.3)",inner:"inset 0 2px 4px 0 rgba(0, 0, 0, 0.05)",primary:"0 20px 25px -5px rgba(99, 102, 241, 0.35)",accent:"0 20px 25px -5px rgba(244, 63, 94, 0.35)",success:"0 20px 25px -5px rgba(34, 197, 94, 0.35)",neumorphic:{flat:"5px 5px 10px #D1D5DB, -5px -5px 10px #FFFFFF",concave:"inset 5px 5px 10px #D1D5DB, inset -5px -5px 10px #FFFFFF",convex:"10px 10px 20px #D1D5DB, -10px -10px 20px #FFFFFF",pressed:"inset 2px 2px 5px #D1D5DB, inset -2px -2px 5px #FFFFFF"}},blur:{none:0,sm:4,base:8,md:12,lg:16,xl:24,"2xl":40,"3xl":64},duration:{fast:150,base:300,slow:500,slower:700},zIndex:{base:0,dropdown:1e3,sticky:1100,fixed:1200,overlay:1300,modal:1400,popover:1500,tooltip:1600}},o=e=>i.radius[e]||i.radius.base,n=e=>{if(!e)return{r:0,g:0,b:0};const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&t[1]&&t[2]&&t[3]?{r:parseInt(t[1],16)/255,g:parseInt(t[2],16)/255,b:parseInt(t[3],16)/255}:{r:0,g:0,b:0}},r=()=>({fills:[{type:"SOLID",color:n("#FFFFFF"),opacity:.1}],effects:[{type:"BACKGROUND_BLUR",radius:16,visible:!0},{type:"DROP_SHADOW",color:{r:0,g:0,b:0,a:.1},offset:{x:0,y:4},radius:8,visible:!0,blendMode:"NORMAL"}]}),s=(e,t,a,i=0)=>({type:"DROP_SHADOW",color:e,offset:t,radius:a,spread:i,visible:!0,blendMode:"NORMAL"}),l=(e,t=[0,1])=>({type:"GRADIENT_LINEAR",gradientTransform:[[1,0,0],[0,1,0]],gradientStops:e.map((a,i)=>({position:t[i]||i/(e.length-1),color:Object.assign(Object.assign({},a),{a:1})}))});var c=function(e,t,a,i){return new(a||(a=Promise))(function(o,n){function r(e){try{l(i.next(e))}catch(e){n(e)}}function s(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(r,s)}l((i=i.apply(e,t||[])).next())})};const d={button:(...e)=>c(void 0,[...e],void 0,function*(e={}){const{label:t="Button",variant:a="primary",size:c="medium",icon:d=null,iconPosition:p="left",fullWidth:g=!1,loading:u=!1,disabled:m=!1}=e,f={small:{height:32,paddingX:12,fontSize:14,iconSize:16},medium:{height:40,paddingX:20,fontSize:16,iconSize:20},large:{height:48,paddingX:28,fontSize:18,iconSize:24}},h=f[c]||f.medium,y=figma.createFrame();switch(y.name=`Button/${a}/${c}`,y.resize(g?320:120,h.height),y.layoutMode="HORIZONTAL",y.primaryAxisAlignItems="CENTER",y.counterAxisAlignItems="CENTER",y.itemSpacing=8,y.paddingLeft=h.paddingX,y.paddingRight=h.paddingX,y.cornerRadius=o("md"),a){case"primary":y.fills=[{type:"SOLID",color:n(i.colors.primary[600])}],y.effects=[{type:"DROP_SHADOW",color:Object.assign(Object.assign({},n(i.colors.primary[600])),{a:.3}),offset:{x:0,y:4},radius:12,spread:-2,visible:!0,blendMode:"NORMAL"}];break;case"gradient":y.fills=[l([n(i.colors.primary[500]),n(i.colors.accent[500])])],y.effects=[s({r:0,g:0,b:0,a:.15},{x:0,y:8},24)];break;case"glass":const e=r();y.fills=e.fills,y.effects=e.effects,y.strokes=[{type:"SOLID",color:n("#FFFFFF"),opacity:.2}],y.strokeWeight=1;break;case"outline":y.fills=[],y.strokes=[{type:"SOLID",color:n(i.colors.primary[600])}],y.strokeWeight=2;break;case"ghost":y.fills=[];break;case"secondary":y.fills=[{type:"SOLID",color:n(i.colors.neutral[100])}],y.effects=[s({r:0,g:0,b:0,a:.05},{x:0,y:1},2)]}if(u){const e=figma.createEllipse();e.resize(h.iconSize,h.iconSize),e.fills=[{type:"SOLID",color:n("#FFFFFF"),opacity:.6}],e.arcData={startingAngle:0,endingAngle:1.5*Math.PI,innerRadius:.7},y.appendChild(e)}if(d&&!u){const e=figma.createVector();e.resize(h.iconSize,h.iconSize),e.fills=[{type:"SOLID",color:n("outline"===a||"ghost"===a?i.colors.primary[600]:"#FFFFFF")}],y.appendChild(e)}const b=figma.createText();return yield figma.loadFontAsync({family:"Inter",style:"Medium"}),b.characters=t,b.fontSize=h.fontSize,b.fontName={family:"Inter",style:"Medium"},b.fills=[{type:"SOLID",color:n("outline"===a||"ghost"===a?i.colors.primary[600]:"#FFFFFF")}],b.textAlignHorizontal="CENTER",y.appendChild(b),m&&(y.opacity=.5),y}),card:(...e)=>c(void 0,[...e],void 0,function*(e={}){const{title:t="Card Title",description:a="Card description goes here",image:c=null,variant:d="elevated",padding:p=24,width:g=320,height:u="auto"}=e,m=figma.createFrame();switch(m.name=`Card/${d}`,m.resize(g,"auto"===u?200:u),m.layoutMode="VERTICAL",m.itemSpacing=16,m.paddingLeft=p,m.paddingRight=p,m.paddingTop=p,m.paddingBottom=p,m.cornerRadius=o("xl"),m.clipsContent=!0,d){case"elevated":m.fills=[{type:"SOLID",color:n("#FFFFFF")}],m.effects=[s({r:0,g:0,b:0,a:.1},{x:0,y:10},30,-5),s({r:0,g:0,b:0,a:.06},{x:0,y:4},10)];break;case"glass":const e=r();m.fills=e.fills,m.effects=e.effects,m.strokes=[{type:"SOLID",color:n("#FFFFFF"),opacity:.2}],m.strokeWeight=1;break;case"neumorphic":const t=((e=!1)=>({fills:[{type:"SOLID",color:n("#F3F4F6")}],effects:e?[{type:"INNER_SHADOW",color:{r:0,g:0,b:0,a:.15},offset:{x:2,y:2},radius:5,visible:!0,blendMode:"NORMAL"},{type:"INNER_SHADOW",color:{r:1,g:1,b:1,a:.7},offset:{x:-2,y:-2},radius:5,visible:!0,blendMode:"NORMAL"}]:[{type:"DROP_SHADOW",color:{r:0,g:0,b:0,a:.1},offset:{x:10,y:10},radius:20,visible:!0,blendMode:"NORMAL"},{type:"DROP_SHADOW",color:{r:1,g:1,b:1,a:.7},offset:{x:-10,y:-10},radius:20,visible:!0,blendMode:"NORMAL"}]}))();m.fills=t.fills,m.effects=t.effects;break;case"outlined":m.fills=[{type:"SOLID",color:n("#FFFFFF")}],m.strokes=[{type:"SOLID",color:n(i.colors.neutral[200])}],m.strokeWeight=1;break;case"filled":m.fills=[{type:"SOLID",color:n(i.colors.neutral[50])}]}if(c){const e=figma.createRectangle();e.resize(g-2*p,160),e.cornerRadius=o("md"),e.fills=[l([n(i.colors.primary[100]),n(i.colors.accent[100])])],m.appendChild(e)}const f=figma.createText();yield figma.loadFontAsync({family:"Inter",style:"Bold"}),f.characters=t,f.fontSize=20,f.fontName={family:"Inter",style:"Bold"},f.fills=[{type:"SOLID",color:n(i.colors.neutral[900])}],m.appendChild(f);const h=figma.createText();return yield figma.loadFontAsync({family:"Inter",style:"Regular"}),h.characters=a,h.fontSize=14,h.fontName={family:"Inter",style:"Regular"},h.fills=[{type:"SOLID",color:n(i.colors.neutral[600])}],h.layoutSizingHorizontal="FILL",m.appendChild(h),m}),input:(...e)=>c(void 0,[...e],void 0,function*(e={}){const{placeholder:t="Enter text...",label:a="Label",value:r="",variant:s="outlined",size:l="medium",error:c=!1,helperText:d="",icon:p=null,type:g="text"}=e,u=figma.createFrame();u.name=`Input/${s}/${l}`,u.layoutMode="VERTICAL",u.itemSpacing=8,u.resize(280,80);const m=figma.createText();yield figma.loadFontAsync({family:"Inter",style:"Medium"}),m.characters=a,m.fontSize=14,m.fontName={family:"Inter",style:"Medium"},m.fills=[{type:"SOLID",color:n(c?i.colors.error.main:i.colors.neutral[700])}],u.appendChild(m);const f=figma.createFrame();switch(f.resize(280,48),f.layoutMode="HORIZONTAL",f.primaryAxisAlignItems="CENTER",f.itemSpacing=12,f.paddingLeft=16,f.paddingRight=16,s){case"outlined":f.fills=[{type:"SOLID",color:n("#FFFFFF")}],f.strokes=[{type:"SOLID",color:n(c?i.colors.error.main:i.colors.neutral[300])}],f.strokeWeight=c?2:1,f.cornerRadius=o("base");break;case"filled":f.fills=[{type:"SOLID",color:n(i.colors.neutral[100])}],f.cornerRadius=o("base");const e=figma.createLine();e.resize(280,0),e.strokes=[{type:"SOLID",color:n(c?i.colors.error.main:i.colors.primary[600])}],e.strokeWeight=2,u.appendChild(e);break;case"underlined":f.fills=[];const t=figma.createLine();t.resize(280,0),t.strokes=[{type:"SOLID",color:n(c?i.colors.error.main:i.colors.neutral[400])}],t.strokeWeight=1,u.appendChild(t)}if(p){const e=figma.createVector();e.resize(20,20),e.fills=[{type:"SOLID",color:n(i.colors.neutral[500])}],f.appendChild(e)}const h=figma.createText();if(yield figma.loadFontAsync({family:"Inter",style:"Regular"}),h.characters=r||t,h.fontSize=16,h.fontName={family:"Inter",style:"Regular"},h.fills=[{type:"SOLID",color:n(r?i.colors.neutral[900]:i.colors.neutral[400])}],h.layoutSizingHorizontal="FILL",f.appendChild(h),u.appendChild(f),d){const e=figma.createText();yield figma.loadFontAsync({family:"Inter",style:"Regular"}),e.characters=d,e.fontSize=12,e.fontName={family:"Inter",style:"Regular"},e.fills=[{type:"SOLID",color:n(c?i.colors.error.main:i.colors.neutral[600])}],u.appendChild(e)}return u}),badge:(...e)=>c(void 0,[...e],void 0,function*(e={}){const{label:t="Badge",variant:a="primary",size:r="medium",icon:s=null,closable:l=!1,rounded:c=!0}=e,d=figma.createFrame();d.name=`Badge/${a}`,d.layoutMode="HORIZONTAL",d.primaryAxisAlignItems="CENTER",d.itemSpacing=4;const p={small:{height:20,paddingX:8,fontSize:11},medium:{height:24,paddingX:12,fontSize:12},large:{height:32,paddingX:16,fontSize:14}},g=p[r]||p.medium;d.resize(80,g.height),d.paddingLeft=g.paddingX,d.paddingRight=g.paddingX,d.cornerRadius=c?g.height/2:o("sm");const u={primary:{bg:i.colors.primary[100],text:i.colors.primary[800]},success:{bg:"#D1FAE5",text:"#065F46"},warning:{bg:"#FEF3C7",text:"#92400E"},error:{bg:"#FEE2E2",text:"#991B1B"},info:{bg:"#DBEAFE",text:"#1E40AF"},neutral:{bg:i.colors.neutral[100],text:i.colors.neutral[800]}},m=u[a]||u.primary;d.fills=[{type:"SOLID",color:n(m.bg)}];const f=figma.createText();return yield figma.loadFontAsync({family:"Inter",style:"Medium"}),f.characters=t,f.fontSize=g.fontSize,f.fontName={family:"Inter",style:"Medium"},f.fills=[{type:"SOLID",color:n(m.text)}],d.appendChild(f),d})};var p=function(e,t,a,i){return new(a||(a=Promise))(function(o,n){function r(e){try{l(i.next(e))}catch(e){n(e)}}function s(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(r,s)}l((i=i.apply(e,t||[])).next())})};const g={navbar:(...e)=>p(void 0,[...e],void 0,function*(e={}){const{logo:t="Logo",links:a=["Home","Products","About","Contact"],variant:o="elevated",height:c=64,showSearch:d=!0,showActions:p=!0}=e,g=figma.createFrame();switch(g.name=`Navbar/${o}`,g.resize(1440,c),g.layoutMode="HORIZONTAL",g.primaryAxisAlignItems="CENTER",g.counterAxisAlignItems="CENTER",g.paddingLeft=40,g.paddingRight=40,g.itemSpacing=40,o){case"elevated":g.fills=[{type:"SOLID",color:n("#FFFFFF")}],g.effects=[s({r:0,g:0,b:0,a:.1},{x:0,y:2},8)];break;case"glass":const e=r();g.fills=e.fills,g.effects=e.effects;break;case"gradient":g.fills=[l([n(i.colors.primary[900]),n(i.colors.primary[700])])];break;case"flat":g.fills=[{type:"SOLID",color:n(i.colors.neutral[50])}]}const u=figma.createFrame();u.layoutMode="HORIZONTAL",u.primaryAxisAlignItems="CENTER",u.itemSpacing=12;const m=figma.createText();yield figma.loadFontAsync({family:"Inter",style:"Bold"}),m.characters=t,m.fontSize=24,m.fontName={family:"Inter",style:"Bold"},m.fills=[{type:"SOLID",color:n("gradient"===o?"#FFFFFF":i.colors.neutral[900])}],u.appendChild(m),g.appendChild(u);const f=figma.createFrame();f.layoutMode="HORIZONTAL",f.primaryAxisAlignItems="CENTER",f.itemSpacing=32,f.layoutGrow=1,f.primaryAxisAlignItems="CENTER";for(const e of a){const t=figma.createText();yield figma.loadFontAsync({family:"Inter",style:"Medium"}),t.characters=e,t.fontSize=16,t.fontName={family:"Inter",style:"Medium"},t.fills=[{type:"SOLID",color:n("gradient"===o?"#FFFFFF":i.colors.neutral[700])}],f.appendChild(t)}if(g.appendChild(f),d){const e=figma.createFrame();e.resize(240,40),e.layoutMode="HORIZONTAL",e.primaryAxisAlignItems="CENTER",e.paddingLeft=16,e.paddingRight=16,e.itemSpacing=8,e.cornerRadius=20,e.fills=[{type:"SOLID",color:n("gradient"===o?"#FFFFFF":i.colors.neutral[100]),opacity:"gradient"===o?.2:1}];const t=figma.createText();yield figma.loadFontAsync({family:"Inter",style:"Regular"}),t.characters="Search...",t.fontSize=14,t.fontName={family:"Inter",style:"Regular"},t.fills=[{type:"SOLID",color:n("gradient"===o?"#FFFFFF":i.colors.neutral[400]),opacity:"gradient"===o?.7:1}],e.appendChild(t),g.appendChild(e)}if(p){const e=figma.createFrame();e.layoutMode="HORIZONTAL",e.itemSpacing=16,e.primaryAxisAlignItems="CENTER";const t=figma.createEllipse();t.resize(40,40),t.fills=[{type:"SOLID",color:n("gradient"===o?"#FFFFFF":i.colors.neutral[100]),opacity:"gradient"===o?.2:1}],e.appendChild(t);const a=figma.createEllipse();a.resize(40,40),a.fills=[{type:"GRADIENT_RADIAL",gradientTransform:[[.5,0,.5],[0,.5,.5]],gradientStops:[{position:0,color:Object.assign(Object.assign({},n(i.colors.primary[400])),{a:1})},{position:1,color:Object.assign(Object.assign({},n(i.colors.accent[500])),{a:1})}]}],e.appendChild(a),g.appendChild(e)}return g}),modal:(...e)=>p(void 0,[...e],void 0,function*(e={}){const{title:t="Modal Title",content:a="This is the modal content. You can add any information here.",variant:r="centered",showOverlay:l=!0,width:c=480,showActions:d=!0}=e,p=figma.createFrame();p.name=`Modal/${r}`,p.resize(figma.viewport.bounds.width,figma.viewport.bounds.height),p.fills=l?[{type:"SOLID",color:{r:0,g:0,b:0},opacity:.5}]:[],p.layoutMode="VERTICAL",p.primaryAxisAlignItems="CENTER",p.counterAxisAlignItems="CENTER";const g=figma.createFrame();g.resize(c,400),g.fills=[{type:"SOLID",color:n("#FFFFFF")}],g.cornerRadius=o("2xl"),g.layoutMode="VERTICAL",g.paddingLeft=32,g.paddingRight=32,g.paddingTop=32,g.paddingBottom=32,g.itemSpacing=24,g.effects=[s({r:0,g:0,b:0,a:.2},{x:0,y:20},40,-10)];const u=figma.createFrame();u.layoutMode="HORIZONTAL",u.counterAxisAlignItems="CENTER",u.layoutSizingHorizontal="FILL";const m=figma.createText();yield figma.loadFontAsync({family:"Inter",style:"Bold"}),m.characters=t,m.fontSize=24,m.fontName={family:"Inter",style:"Bold"},m.fills=[{type:"SOLID",color:n(i.colors.neutral[900])}],m.layoutGrow=1,u.appendChild(m);const f=figma.createEllipse();f.resize(32,32),f.fills=[{type:"SOLID",color:n(i.colors.neutral[100])}],u.appendChild(f),g.appendChild(u);const h=figma.createText();if(yield figma.loadFontAsync({family:"Inter",style:"Regular"}),h.characters=a,h.fontSize=16,h.fontName={family:"Inter",style:"Regular"},h.fills=[{type:"SOLID",color:n(i.colors.neutral[600])}],h.layoutSizingHorizontal="FILL",h.layoutGrow=1,g.appendChild(h),d){const e=figma.createFrame();e.layoutMode="HORIZONTAL",e.primaryAxisAlignItems="CENTER",e.counterAxisAlignItems="CENTER",e.itemSpacing=12,e.layoutSizingHorizontal="FILL";const t=figma.createFrame();t.resize(100,40),t.layoutMode="HORIZONTAL",t.primaryAxisAlignItems="CENTER",t.counterAxisAlignItems="CENTER",t.cornerRadius=o("md"),t.fills=[{type:"SOLID",color:n(i.colors.neutral[100])}];const a=figma.createText();yield figma.loadFontAsync({family:"Inter",style:"Medium"}),a.characters="Cancel",a.fontSize=16,a.fontName={family:"Inter",style:"Medium"},a.fills=[{type:"SOLID",color:n(i.colors.neutral[700])}],t.appendChild(a),e.appendChild(t);const r=figma.createFrame();r.resize(100,40),r.layoutMode="HORIZONTAL",r.primaryAxisAlignItems="CENTER",r.counterAxisAlignItems="CENTER",r.cornerRadius=o("md"),r.fills=[{type:"SOLID",color:n(i.colors.primary[600])}];const s=figma.createText();s.characters="Confirm",s.fontSize=16,s.fontName={family:"Inter",style:"Medium"},s.fills=[{type:"SOLID",color:n("#FFFFFF")}],r.appendChild(s),e.appendChild(r),g.appendChild(e)}return p.appendChild(g),p}),toast:(...e)=>p(void 0,[...e],void 0,function*(e={}){const{message:t="This is a notification message",variant:a="success",position:r="top-right",showIcon:l=!0,showClose:c=!0}=e,d=figma.createFrame();d.name=`Toast/${a}`,d.resize(360,64),d.layoutMode="HORIZONTAL",d.primaryAxisAlignItems="CENTER",d.paddingLeft=16,d.paddingRight=16,d.paddingTop=16,d.paddingBottom=16,d.itemSpacing=12,d.cornerRadius=o("md");const p={success:{bg:i.colors.success.light,icon:"✓",iconBg:i.colors.success.main},error:{bg:i.colors.error.light,icon:"✕",iconBg:i.colors.error.main},warning:{bg:i.colors.warning.light,icon:"!",iconBg:i.colors.warning.main},info:{bg:i.colors.info.light,icon:"i",iconBg:i.colors.info.main}},g=p[a]||p.info;if(d.fills=[{type:"SOLID",color:n(g.bg),opacity:.1}],d.strokes=[{type:"SOLID",color:n(g.bg)}],d.strokeWeight=1,d.effects=[s({r:0,g:0,b:0,a:.1},{x:0,y:4},12)],l){const e=figma.createEllipse();e.resize(32,32),e.fills=[{type:"SOLID",color:n(g.iconBg)}];const t=figma.createText();yield figma.loadFontAsync({family:"Inter",style:"Bold"}),t.characters=g.icon,t.fontSize=16,t.fontName={family:"Inter",style:"Bold"},t.fills=[{type:"SOLID",color:n("#FFFFFF")}],t.textAlignHorizontal="CENTER",t.textAlignVertical="CENTER",d.appendChild(e)}const u=figma.createText();if(yield figma.loadFontAsync({family:"Inter",style:"Medium"}),u.characters=t,u.fontSize=14,u.fontName={family:"Inter",style:"Medium"},u.fills=[{type:"SOLID",color:n(i.colors.neutral[800])}],u.layoutGrow=1,d.appendChild(u),c){const e=figma.createEllipse();e.resize(24,24),e.fills=[{type:"SOLID",color:n(i.colors.neutral[300])}],d.appendChild(e)}return d}),table:(...e)=>p(void 0,[...e],void 0,function*(e={}){const{columns:t=["Name","Email","Role","Status"],rows:a=3,variant:r="striped",showHeader:s=!0,width:l=800}=e,c=figma.createFrame();if(c.name=`Table/${r}`,c.resize(l,48*(a+1)),c.layoutMode="VERTICAL",c.fills=[{type:"SOLID",color:n("#FFFFFF")}],c.cornerRadius=o("lg"),"bordered"===r&&(c.strokes=[{type:"SOLID",color:n(i.colors.neutral[200])}],c.strokeWeight=1),s){const e=figma.createFrame();e.resize(l,48),e.layoutMode="HORIZONTAL",e.fills=[{type:"SOLID",color:n(i.colors.neutral[50])}],e.paddingLeft=24,e.paddingRight=24,e.primaryAxisAlignItems="CENTER";for(const a of t){const t=figma.createText();yield figma.loadFontAsync({family:"Inter",style:"Semibold"}),t.characters=a,t.fontSize=14,t.fontName={family:"Inter",style:"Semibold"},t.fills=[{type:"SOLID",color:n(i.colors.neutral[700])}],t.layoutGrow=1,e.appendChild(t)}c.appendChild(e)}for(let e=0;e<a;e++){const a=figma.createFrame();a.resize(l,48),a.layoutMode="HORIZONTAL",a.paddingLeft=24,a.paddingRight=24,a.primaryAxisAlignItems="CENTER","striped"===r&&e%2==1&&(a.fills=[{type:"SOLID",color:n(i.colors.neutral[50])}]);const o=[`User ${e+1}`,`user${e+1}@example.com`,e%2==0?"Admin":"User",e%3==0?"Active":"Inactive"];for(let e=0;e<t.length;e++){const t=figma.createText();yield figma.loadFontAsync({family:"Inter",style:"Regular"}),t.characters=o[e]||`Data ${e+1}`,t.fontSize=14,t.fontName={family:"Inter",style:"Regular"},t.fills=[{type:"SOLID",color:n(i.colors.neutral[600])}],t.layoutGrow=1,a.appendChild(t)}c.appendChild(a)}return c})};var u=function(e,t,a,i){return new(a||(a=Promise))(function(o,n){function r(e){try{l(i.next(e))}catch(e){n(e)}}function s(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(r,s)}l((i=i.apply(e,t||[])).next())})};const m={select:(...e)=>u(void 0,[...e],void 0,function*(e={}){const{options:t=["Option 1","Option 2","Option 3"],placeholder:a="Select an option",label:r="Select",variant:s="outlined",size:l="medium",width:c=280}=e,d=figma.createFrame();d.name=`Select/${s}`,d.layoutMode="VERTICAL",d.itemSpacing=8,d.resize(c,80);const p=figma.createText();yield figma.loadFontAsync({family:"Inter",style:"Medium"}),p.characters=r,p.fontSize=14,p.fontName={family:"Inter",style:"Medium"},p.fills=[{type:"SOLID",color:n(i.colors.neutral[700])}],d.appendChild(p);const g=figma.createFrame();switch(g.resize(c,48),g.layoutMode="HORIZONTAL",g.primaryAxisAlignItems="CENTER",g.counterAxisAlignItems="CENTER",g.paddingLeft=16,g.paddingRight=16,g.itemSpacing=8,g.cornerRadius=o("base"),s){case"outlined":g.fills=[{type:"SOLID",color:n("#FFFFFF")}],g.strokes=[{type:"SOLID",color:n(i.colors.neutral[300])}],g.strokeWeight=1;break;case"filled":g.fills=[{type:"SOLID",color:n(i.colors.neutral[100])}]}const u=figma.createText();yield figma.loadFontAsync({family:"Inter",style:"Regular"}),u.characters=a,u.fontSize=16,u.fontName={family:"Inter",style:"Regular"},u.fills=[{type:"SOLID",color:n(i.colors.neutral[400])}],u.layoutGrow=1,g.appendChild(u);const m=figma.createPolygon();return m.resize(12,12),m.pointCount=3,m.rotation=180,m.fills=[{type:"SOLID",color:n(i.colors.neutral[500])}],g.appendChild(m),d.appendChild(g),d}),checkbox:(...e)=>u(void 0,[...e],void 0,function*(e={}){const{label:t="Checkbox label",checked:a=!1,size:r="medium",variant:s="primary"}=e,l={small:16,medium:20,large:24},c=l[r]||l.medium,d=figma.createFrame();d.name="Checkbox",d.layoutMode="HORIZONTAL",d.primaryAxisAlignItems="CENTER",d.itemSpacing=12;const p=figma.createFrame();if(p.resize(c,c),p.cornerRadius=o("sm"),a){p.fills=[{type:"SOLID",color:n(i.colors.primary[600])}];const e=figma.createVector();e.resize(.6*c,.6*c),e.x=.2*c,e.y=.2*c,e.vectorPaths=[{windingRule:"NONZERO",data:"M 2 5 L 5 8 L 10 3"}],e.strokes=[{type:"SOLID",color:n("#FFFFFF")}],e.strokeWeight=2,e.strokeCap="ROUND",e.strokeJoin="ROUND",p.appendChild(e)}else p.fills=[{type:"SOLID",color:n("#FFFFFF")}],p.strokes=[{type:"SOLID",color:n(i.colors.neutral[300])}],p.strokeWeight=2;d.appendChild(p);const g=figma.createText();return yield figma.loadFontAsync({family:"Inter",style:"Regular"}),g.characters=t,g.fontSize="small"===r?14:"large"===r?18:16,g.fontName={family:"Inter",style:"Regular"},g.fills=[{type:"SOLID",color:n(i.colors.neutral[700])}],d.appendChild(g),d}),radio:(...e)=>u(void 0,[...e],void 0,function*(e={}){const{label:t="Radio option",selected:a=!1,size:o="medium",groupName:r="radio-group"}=e,s={small:16,medium:20,large:24},l=s[o]||s.medium,c=figma.createFrame();c.name=`Radio/${r}`,c.layoutMode="HORIZONTAL",c.primaryAxisAlignItems="CENTER",c.itemSpacing=12;const d=figma.createFrame();d.resize(l,l),d.fills=[];const p=figma.createEllipse();if(p.resize(l,l),a){p.fills=[{type:"SOLID",color:n("#FFFFFF")}],p.strokes=[{type:"SOLID",color:n(i.colors.primary[600])}],p.strokeWeight=2,d.appendChild(p);const e=figma.createEllipse(),t=.5*l;e.resize(t,t),e.x=(l-t)/2,e.y=(l-t)/2,e.fills=[{type:"SOLID",color:n(i.colors.primary[600])}],d.appendChild(e)}else p.fills=[{type:"SOLID",color:n("#FFFFFF")}],p.strokes=[{type:"SOLID",color:n(i.colors.neutral[300])}],p.strokeWeight=2,d.appendChild(p);c.appendChild(d);const g=figma.createText();return yield figma.loadFontAsync({family:"Inter",style:"Regular"}),g.characters=t,g.fontSize="small"===o?14:"large"===o?18:16,g.fontName={family:"Inter",style:"Regular"},g.fills=[{type:"SOLID",color:n(i.colors.neutral[700])}],c.appendChild(g),c}),toggle:(...e)=>u(void 0,[...e],void 0,function*(e={}){const{label:t="Toggle option",checked:a=!1,size:o="medium",variant:r="primary"}=e,l={small:{width:36,height:20},medium:{width:48,height:26},large:{width:60,height:32}},c=l[o]||l.medium,d=figma.createFrame();d.name="Toggle",d.layoutMode="HORIZONTAL",d.primaryAxisAlignItems="CENTER",d.itemSpacing=12;const p=figma.createFrame();p.resize(c.width,c.height),p.cornerRadius=c.height/2,p.fills=a?[{type:"SOLID",color:n(i.colors.primary[600])}]:[{type:"SOLID",color:n(i.colors.neutral[300])}];const g=figma.createEllipse(),u=c.height-4;if(g.resize(u,u),g.y=2,g.x=a?c.width-u-2:2,g.fills=[{type:"SOLID",color:n("#FFFFFF")}],g.effects=[s({r:0,g:0,b:0,a:.15},{x:0,y:2},4)],p.appendChild(g),d.appendChild(p),t){const e=figma.createText();yield figma.loadFontAsync({family:"Inter",style:"Regular"}),e.characters=t,e.fontSize="small"===o?14:"large"===o?18:16,e.fontName={family:"Inter",style:"Regular"},e.fills=[{type:"SOLID",color:n(i.colors.neutral[700])}],d.appendChild(e)}return d}),slider:(...e)=>u(void 0,[...e],void 0,function*(e={}){const{min:t=0,max:a=100,value:o=50,label:r="Slider",showValue:l=!0,width:c=280,variant:d="primary"}=e,p=figma.createFrame();p.name="Slider",p.layoutMode="VERTICAL",p.itemSpacing=12,p.resize(c,60);const g=figma.createFrame();g.layoutMode="HORIZONTAL",g.counterAxisAlignItems="CENTER",g.layoutSizingHorizontal="FILL";const u=figma.createText();if(yield figma.loadFontAsync({family:"Inter",style:"Medium"}),u.characters=r,u.fontSize=14,u.fontName={family:"Inter",style:"Medium"},u.fills=[{type:"SOLID",color:n(i.colors.neutral[700])}],u.layoutGrow=1,g.appendChild(u),l){const e=figma.createText();e.characters=o.toString(),e.fontSize=14,e.fontName={family:"Inter",style:"Medium"},e.fills=[{type:"SOLID",color:n(i.colors.primary[600])}],g.appendChild(e)}p.appendChild(g);const m=figma.createFrame();m.resize(c,8),m.layoutMode="HORIZONTAL";const f=figma.createFrame();f.resize(c,4),f.y=2,f.cornerRadius=2,f.fills=[{type:"SOLID",color:n(i.colors.neutral[200])}];const h=figma.createFrame(),y=(o-t)/(a-t)*c;h.resize(y,4),h.cornerRadius=2,h.fills=[{type:"SOLID",color:n(i.colors.primary[600])}],f.appendChild(h);const b=figma.createEllipse();return b.resize(16,16),b.x=y-8,b.y=-6,b.fills=[{type:"SOLID",color:n(i.colors.primary[600])}],b.effects=[s({r:0,g:0,b:0,a:.2},{x:0,y:2},6)],f.appendChild(b),m.appendChild(f),p.appendChild(m),p}),textarea:(...e)=>u(void 0,[...e],void 0,function*(e={}){const{placeholder:t="Enter your message...",label:a="Message",rows:r=4,variant:s="outlined",width:l=320}=e,c=figma.createFrame();c.name=`Textarea/${s}`,c.layoutMode="VERTICAL",c.itemSpacing=8;const d=figma.createText();yield figma.loadFontAsync({family:"Inter",style:"Medium"}),d.characters=a,d.fontSize=14,d.fontName={family:"Inter",style:"Medium"},d.fills=[{type:"SOLID",color:n(i.colors.neutral[700])}],c.appendChild(d);const p=figma.createFrame();switch(p.resize(l,24*r+24),p.paddingLeft=16,p.paddingRight=16,p.paddingTop=16,p.paddingBottom=16,p.cornerRadius=o("base"),s){case"outlined":p.fills=[{type:"SOLID",color:n("#FFFFFF")}],p.strokes=[{type:"SOLID",color:n(i.colors.neutral[300])}],p.strokeWeight=1;break;case"filled":p.fills=[{type:"SOLID",color:n(i.colors.neutral[100])}]}const g=figma.createText();return yield figma.loadFontAsync({family:"Inter",style:"Regular"}),g.characters=t,g.fontSize=16,g.fontName={family:"Inter",style:"Regular"},g.fills=[{type:"SOLID",color:n(i.colors.neutral[400])}],g.layoutSizingHorizontal="FILL",g.layoutSizingVertical="FILL",p.appendChild(g),c.appendChild(p),c})};var f=function(e,t,a,i){return new(a||(a=Promise))(function(o,n){function r(e){try{l(i.next(e))}catch(e){n(e)}}function s(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(r,s)}l((i=i.apply(e,t||[])).next())})};class h{static parseTailwindClasses(e){const t=e.split(" "),a={};return t.forEach(e=>{if(e.startsWith("bg-")){const t=e.replace("bg-",""),i=this.colorMap[t];i&&(a.fills=[{type:"SOLID",color:i}])}if(e.startsWith("text-")){const t=e.replace("text-",""),i=this.colorMap[t];i&&(a.textColor=i)}if(e.startsWith("border-")){const t=e.replace("border-",""),i=this.colorMap[t];i&&(a.strokes=[{type:"SOLID",color:i}],a.strokeWeight=1)}if(e.startsWith("p-")){const t=4*parseInt(e.replace("p-",""));a.padding=t}if(e.startsWith("px-")){const t=4*parseInt(e.replace("px-",""));a.paddingLeft=t,a.paddingRight=t}if(e.startsWith("py-")){const t=4*parseInt(e.replace("py-",""));a.paddingTop=t,a.paddingBottom=t}if(e.startsWith("rounded-")){const t={none:0,sm:2,md:6,lg:8,xl:12,"2xl":16,full:999},i=e.replace("rounded-","");a.cornerRadius=t[i]||4}if(e.startsWith("shadow")){const t={"shadow-sm":{type:"DROP_SHADOW",color:{r:0,g:0,b:0,a:.05},offset:{x:0,y:1},radius:2,visible:!0,blendMode:"NORMAL"},shadow:{type:"DROP_SHADOW",color:{r:0,g:0,b:0,a:.1},offset:{x:0,y:1},radius:3,visible:!0,blendMode:"NORMAL"},"shadow-md":{type:"DROP_SHADOW",color:{r:0,g:0,b:0,a:.1},offset:{x:0,y:4},radius:6,visible:!0,blendMode:"NORMAL"},"shadow-lg":{type:"DROP_SHADOW",color:{r:0,g:0,b:0,a:.1},offset:{x:0,y:10},radius:15,visible:!0,blendMode:"NORMAL"}}[e];t&&(a.effects=[t])}}),a}static createShadcnButton(t){return f(this,void 0,void 0,function*(){const{variant:a="default",size:i="default",children:o="Button",className:n="",disabled:r=!1}=t,s=this.sizeMap.button[i]||this.sizeMap.button.default,l=figma.createFrame();l.name=`Shadcn Button - ${a}`,l.resize(s.width,s.height),l.layoutMode="HORIZONTAL",l.primaryAxisAlignItems="CENTER",l.counterAxisAlignItems="CENTER",l.paddingLeft=s.paddingX,l.paddingRight=s.paddingX,l.paddingTop=s.paddingY,l.paddingBottom=s.paddingY,l.cornerRadius=6;const c=this.getButtonVariantStyles(a);if(l.fills=c.fills,c.strokes&&(l.strokes=c.strokes,l.strokeWeight=1),n){const e=this.parseTailwindClasses(n);Object.assign(l,e)}const d=figma.createText();return yield figma.loadFontAsync(e.getSafeFont("Inter","Medium")),d.characters=o,d.fontSize=s.fontSize,d.fontName=e.getSafeFont("Inter","Medium"),d.fills=c.textFills,l.appendChild(d),r&&(l.opacity=.5),l})}static createShadcnCard(e){return f(this,void 0,void 0,function*(){const{className:t="",children:a}=e,i=figma.createFrame();if(i.name="Shadcn Card",i.resize(320,240),i.layoutMode="VERTICAL",i.cornerRadius=8,i.fills=[{type:"SOLID",color:this.colorMap.card||{r:.176,g:.176,b:.176}}],i.strokes=[{type:"SOLID",color:this.colorMap.border||{r:.3,g:.3,b:.3}}],i.strokeWeight=1,i.effects=[{type:"DROP_SHADOW",color:{r:0,g:0,b:0,a:.1},offset:{x:0,y:1},radius:3,visible:!0,blendMode:"NORMAL"}],t){const e=this.parseTailwindClasses(t);Object.assign(i,e)}return i})}static createShadcnInput(t){return f(this,void 0,void 0,function*(){const{size:a="default",placeholder:i="Enter text...",className:o="",disabled:n=!1}=t,r=this.sizeMap.input[a]||this.sizeMap.input.default,s=figma.createFrame();s.name="Shadcn Input",s.resize(r.width,r.height),s.layoutMode="HORIZONTAL",s.primaryAxisAlignItems="CENTER",s.paddingLeft=r.paddingX,s.paddingRight=r.paddingX,s.cornerRadius=6,s.fills=[{type:"SOLID",color:this.colorMap.secondary||{r:.176,g:.176,b:.176}}],s.strokes=[{type:"SOLID",color:this.colorMap.input||{r:.3,g:.3,b:.3}}],s.strokeWeight=1;const l=figma.createText();if(yield figma.loadFontAsync(e.getSafeFont("Inter","Regular")),l.characters=i,l.fontSize=r.fontSize,l.fontName=e.getSafeFont("Inter","Regular"),l.fills=[{type:"SOLID",color:this.colorMap["muted-foreground"]||{r:.7,g:.7,b:.7}}],s.appendChild(l),o){const e=this.parseTailwindClasses(o);Object.assign(s,e)}return n&&(s.opacity=.5),s})}static createShadcnBadge(t){return f(this,void 0,void 0,function*(){const{variant:a="default",size:i="default",children:o="Badge",className:n=""}=t,r=this.sizeMap.badge[i]||this.sizeMap.badge.default,s=figma.createFrame();s.name=`Shadcn Badge - ${a}`,s.layoutMode="HORIZONTAL",s.primaryAxisAlignItems="CENTER",s.counterAxisAlignItems="CENTER",s.paddingLeft=r.paddingX,s.paddingRight=r.paddingX,s.paddingTop=r.paddingY,s.paddingBottom=r.paddingY,s.cornerRadius=999;const l=this.getBadgeVariantStyles(a);s.fills=l.fills,l.strokes&&(s.strokes=l.strokes,s.strokeWeight=1);const c=figma.createText();if(yield figma.loadFontAsync(e.getSafeFont("Inter","Medium")),c.characters=o,c.fontSize=r.fontSize,c.fontName=e.getSafeFont("Inter","Medium"),c.fills=l.textFills,s.appendChild(c),n){const e=this.parseTailwindClasses(n);Object.assign(s,e)}return s})}static getButtonVariantStyles(e){const t={default:{fills:[{type:"SOLID",color:this.colorMap.primary}],textFills:[{type:"SOLID",color:this.colorMap["primary-foreground"]}]},destructive:{fills:[{type:"SOLID",color:this.colorMap.destructive}],textFills:[{type:"SOLID",color:this.colorMap["destructive-foreground"]}]},outline:{fills:[],strokes:[{type:"SOLID",color:this.colorMap.border}],textFills:[{type:"SOLID",color:this.colorMap.foreground}]},secondary:{fills:[{type:"SOLID",color:this.colorMap.secondary}],textFills:[{type:"SOLID",color:this.colorMap["secondary-foreground"]}]},ghost:{fills:[],textFills:[{type:"SOLID",color:this.colorMap.foreground}]},link:{fills:[],textFills:[{type:"SOLID",color:this.colorMap.primary}]}};return t[e]||t.default}static getBadgeVariantStyles(e){const t={default:{fills:[{type:"SOLID",color:this.colorMap.primary}],textFills:[{type:"SOLID",color:this.colorMap["primary-foreground"]}]},secondary:{fills:[{type:"SOLID",color:this.colorMap.secondary}],textFills:[{type:"SOLID",color:this.colorMap["secondary-foreground"]}]},destructive:{fills:[{type:"SOLID",color:this.colorMap.destructive}],textFills:[{type:"SOLID",color:this.colorMap["destructive-foreground"]}]},outline:{fills:[],strokes:[{type:"SOLID",color:this.colorMap.border}],textFills:[{type:"SOLID",color:this.colorMap.foreground}]}};return t[e]||t.default}static createShadcnSwitch(e){return f(this,void 0,void 0,function*(){const{checked:t=!1,disabled:a=!1}=e,i=figma.createFrame();i.name="Shadcn Switch",i.resize(44,24),i.cornerRadius=12,i.fills=t?[{type:"SOLID",color:this.colorMap.primary||{r:.129,g:.588,b:.953}}]:[{type:"SOLID",color:this.colorMap.muted||{r:.227,g:.227,b:.227}}];const o=figma.createEllipse();return o.resize(18,18),o.x=t?23:3,o.y=3,o.fills=[{type:"SOLID",color:{r:1,g:1,b:1}}],o.effects=[{type:"DROP_SHADOW",color:{r:0,g:0,b:0,a:.1},offset:{x:0,y:2},radius:4,visible:!0,blendMode:"NORMAL"}],i.appendChild(o),a&&(i.opacity=.5),i})}static createShadcnCheckbox(t){return f(this,void 0,void 0,function*(){const{checked:a=!1,label:i="",disabled:o=!1}=t,n=figma.createFrame();n.name="Shadcn Checkbox",n.layoutMode="HORIZONTAL",n.counterAxisAlignItems="CENTER",n.itemSpacing=8;const r=figma.createFrame();if(r.resize(18,18),r.cornerRadius=4,r.strokes=[{type:"SOLID",color:a?this.colorMap.primary||{r:.129,g:.588,b:.953}:this.colorMap.input||{r:.3,g:.3,b:.3}}],r.strokeWeight=2,r.fills=a?[{type:"SOLID",color:this.colorMap.primary||{r:.129,g:.588,b:.953}}]:[{type:"SOLID",color:this.colorMap.background||{r:.118,g:.118,b:.118}}],a){const t=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Bold")),t.characters="✓",t.fontSize=12,t.fontName=e.getSafeFont("Inter","Bold"),t.fills=[{type:"SOLID",color:{r:1,g:1,b:1}}],t.textAlignHorizontal="CENTER",t.textAlignVertical="CENTER",t.resize(18,18),r.appendChild(t)}if(n.appendChild(r),i){const t=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Regular")),t.characters=i,t.fontSize=14,t.fontName=e.getSafeFont("Inter","Regular"),t.fills=[{type:"SOLID",color:this.colorMap.foreground||{r:1,g:1,b:1}}],n.appendChild(t)}return o&&(n.opacity=.5),n})}static createShadcnSelect(t){return f(this,void 0,void 0,function*(){const{placeholder:a="Select an option",value:i="",disabled:o=!1,size:n="default"}=t,r=this.sizeMap.input[n]||this.sizeMap.input.default,s=figma.createFrame();s.name="Shadcn Select",s.resize(r.width,r.height),s.layoutMode="HORIZONTAL",s.primaryAxisAlignItems="CENTER",s.counterAxisAlignItems="CENTER",s.paddingLeft=r.paddingX,s.paddingRight=40,s.cornerRadius=6,s.fills=[{type:"SOLID",color:this.colorMap.secondary||{r:.176,g:.176,b:.176}}],s.strokes=[{type:"SOLID",color:this.colorMap.input||{r:.3,g:.3,b:.3}}],s.strokeWeight=1;const l=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Regular")),l.characters=i||a,l.fontSize=r.fontSize,l.fontName=e.getSafeFont("Inter","Regular"),l.fills=i?[{type:"SOLID",color:this.colorMap.foreground||{r:1,g:1,b:1}}]:[{type:"SOLID",color:this.colorMap["muted-foreground"]||{r:.7,g:.7,b:.7}}],l.layoutGrow=1,s.appendChild(l);const c=figma.createText();return yield figma.loadFontAsync(e.getSafeFont("Inter","Regular")),c.characters="▼",c.fontSize=10,c.fontName=e.getSafeFont("Inter","Regular"),c.fills=[{type:"SOLID",color:this.colorMap["muted-foreground"]||{r:.7,g:.7,b:.7}}],c.x=s.width-25,c.y=(s.height-10)/2,s.appendChild(c),o&&(s.opacity=.5),s})}static createShadcnAvatar(t){return f(this,void 0,void 0,function*(){const{size:a="default",initials:i="JD",src:o="",alt:n=""}=t,r={sm:32,default:40,lg:48},s=r[a]||r.default,l=figma.createFrame();if(l.name="Shadcn Avatar",l.resize(s,s),l.cornerRadius=s/2,l.clipsContent=!0,o){l.fills=[{type:"SOLID",color:this.colorMap.secondary||{r:.176,g:.176,b:.176}}];const e=figma.createRectangle();e.resize(s,s),e.fills=[{type:"SOLID",color:this.colorMap["secondary-foreground"]||{r:1,g:1,b:1},opacity:.1}],l.appendChild(e)}else{l.fills=[{type:"SOLID",color:this.colorMap.primary||{r:.129,g:.588,b:.953}}],l.layoutMode="HORIZONTAL",l.primaryAxisAlignItems="CENTER",l.counterAxisAlignItems="CENTER";const t=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Medium")),t.characters=i.slice(0,2).toUpperCase(),t.fontSize=.4*s,t.fontName=e.getSafeFont("Inter","Medium"),t.fills=[{type:"SOLID",color:this.colorMap["primary-foreground"]||{r:1,g:1,b:1}}],t.textAlignHorizontal="CENTER",t.textAlignVertical="CENTER",l.appendChild(t)}return l.strokes=[{type:"SOLID",color:this.colorMap.border||{r:.3,g:.3,b:.3}}],l.strokeWeight=2,l})}static createShadcnAlert(t){return f(this,void 0,void 0,function*(){const{variant:a="default",title:i="Alert",description:o="",className:n=""}=t,r=figma.createFrame();r.name=`Shadcn Alert - ${a}`,r.resize(480,80),r.layoutMode="HORIZONTAL",r.itemSpacing=12,r.paddingLeft=16,r.paddingRight=16,r.paddingTop=16,r.paddingBottom=16,r.cornerRadius=6;const s=this.getAlertVariantStyles(a);r.fills=s.fills,r.strokes=s.strokes,r.strokeWeight=1;const l=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Regular")),l.characters=s.icon,l.fontSize=20,l.fontName=e.getSafeFont("Inter","Regular"),l.fills=s.iconFills,r.appendChild(l);const c=figma.createFrame();c.layoutMode="VERTICAL",c.itemSpacing=4,c.layoutGrow=1;const d=figma.createText();if(yield figma.loadFontAsync(e.getSafeFont("Inter","Medium")),d.characters=i,d.fontSize=14,d.fontName=e.getSafeFont("Inter","Medium"),d.fills=s.textFills,c.appendChild(d),o){const t=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Regular")),t.characters=o,t.fontSize=14,t.fontName=e.getSafeFont("Inter","Regular"),t.fills=s.mutedTextFills,t.layoutAlign="STRETCH",c.appendChild(t)}if(r.appendChild(c),n){const e=this.parseTailwindClasses(n);Object.assign(r,e)}return r})}static getAlertVariantStyles(e){const t={default:{fills:[{type:"SOLID",color:this.colorMap.secondary}],strokes:[{type:"SOLID",color:this.colorMap.border}],textFills:[{type:"SOLID",color:this.colorMap.foreground}],mutedTextFills:[{type:"SOLID",color:this.colorMap["muted-foreground"]}],iconFills:[{type:"SOLID",color:this.colorMap.foreground}],icon:"ℹ"},destructive:{fills:[{type:"SOLID",color:{r:.3,g:.15,b:.15}}],strokes:[{type:"SOLID",color:this.colorMap.destructive}],textFills:[{type:"SOLID",color:{r:1,g:.8,b:.8}}],mutedTextFills:[{type:"SOLID",color:{r:1,g:.7,b:.7}}],iconFills:[{type:"SOLID",color:this.colorMap.destructive}],icon:"✕"},success:{fills:[{type:"SOLID",color:{r:.15,g:.3,b:.15}}],strokes:[{type:"SOLID",color:this.colorMap.success}],textFills:[{type:"SOLID",color:{r:.8,g:1,b:.8}}],mutedTextFills:[{type:"SOLID",color:{r:.7,g:.9,b:.7}}],iconFills:[{type:"SOLID",color:this.colorMap.success}],icon:"✓"},warning:{fills:[{type:"SOLID",color:{r:.4,g:.25,b:0}}],strokes:[{type:"SOLID",color:this.colorMap.warning}],textFills:[{type:"SOLID",color:{r:1,g:.9,b:.7}}],mutedTextFills:[{type:"SOLID",color:{r:1,g:.85,b:.6}}],iconFills:[{type:"SOLID",color:this.colorMap.warning}],icon:"⚠"}};return t[e]||t.default}static createShadcnProgress(e){return f(this,void 0,void 0,function*(){const{value:t=50,className:a=""}=e,i=figma.createFrame();i.name="Shadcn Progress",i.resize(320,8),i.cornerRadius=4,i.fills=[{type:"SOLID",color:this.colorMap.secondary||{r:.176,g:.176,b:.176}}],i.clipsContent=!0;const o=figma.createRectangle();if(o.resize(i.width*t/100,8),o.cornerRadius=4,o.fills=[{type:"SOLID",color:this.colorMap.primary||{r:.129,g:.588,b:.953}}],i.appendChild(o),a){const e=this.parseTailwindClasses(a);Object.assign(i,e)}return i})}static createShadcnSkeleton(e){return f(this,void 0,void 0,function*(){const{variant:t="text",className:a=""}=e,i=figma.createFrame();switch(i.name=`Shadcn Skeleton - ${t}`,t){case"text":default:i.resize(200,16),i.cornerRadius=4;break;case"title":i.resize(300,24),i.cornerRadius=4;break;case"avatar":i.resize(40,40),i.cornerRadius=20;break;case"button":i.resize(120,40),i.cornerRadius=6;break;case"card":i.resize(320,120),i.cornerRadius=8}if(i.fills=[{type:"GRADIENT_LINEAR",gradientTransform:[[1,0,0],[0,1,0]],gradientStops:[{position:0,color:{r:.176,g:.176,b:.176,a:1}},{position:.5,color:{r:.227,g:.227,b:.227,a:1}},{position:1,color:{r:.176,g:.176,b:.176,a:1}}]}],a){const e=this.parseTailwindClasses(a);Object.assign(i,e)}return i})}static createShadcnTabs(t){return f(this,void 0,void 0,function*(){const{tabs:a=["Tab 1","Tab 2","Tab 3"],activeTab:i=0,className:o=""}=t,n=figma.createFrame();n.name="Shadcn Tabs",n.layoutMode="VERTICAL",n.resize(480,200);const r=figma.createFrame();r.name="Tab List",r.layoutMode="HORIZONTAL",r.itemSpacing=4,r.layoutAlign="STRETCH";for(let t=0;t<a.length;t++){const o=figma.createFrame();o.layoutMode="HORIZONTAL",o.primaryAxisAlignItems="CENTER",o.counterAxisAlignItems="CENTER",o.paddingLeft=16,o.paddingRight=16,o.paddingTop=10,o.paddingBottom=10;const n=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Medium")),n.characters=a[t],n.fontSize=14,n.fontName=e.getSafeFont("Inter","Medium"),n.fills=t===i?[{type:"SOLID",color:this.colorMap.primary||{r:.129,g:.588,b:.953}}]:[{type:"SOLID",color:this.colorMap["muted-foreground"]||{r:.7,g:.7,b:.7}}],o.appendChild(n),r.appendChild(o)}n.appendChild(r);const s=figma.createFrame();s.resize(n.width,1),s.fills=[{type:"SOLID",color:this.colorMap.border||{r:.3,g:.3,b:.3}}],n.appendChild(s);const l=figma.createFrame();l.layoutMode="VERTICAL",l.paddingTop=24,l.layoutAlign="STRETCH",l.layoutGrow=1;const c=figma.createText();if(yield figma.loadFontAsync(e.getSafeFont("Inter","Regular")),c.characters=`Content for ${a[i]}`,c.fontSize=14,c.fontName=e.getSafeFont("Inter","Regular"),c.fills=[{type:"SOLID",color:this.colorMap["muted-foreground"]||{r:.7,g:.7,b:.7}}],l.appendChild(c),n.appendChild(l),o){const e=this.parseTailwindClasses(o);Object.assign(n,e)}return n})}static createComponent(e,t){return f(this,void 0,void 0,function*(){try{switch(e){case"button":return yield this.createShadcnButton(t);case"card":return yield this.createShadcnCard(t);case"input":return yield this.createShadcnInput(t);case"badge":return yield this.createShadcnBadge(t);case"switch":case"toggle":return yield this.createShadcnSwitch(t);case"checkbox":return yield this.createShadcnCheckbox(t);case"select":case"dropdown":return yield this.createShadcnSelect(t);case"avatar":return yield this.createShadcnAvatar(t);case"alert":return yield this.createShadcnAlert(t);case"progress":return yield this.createShadcnProgress(t);case"skeleton":return yield this.createShadcnSkeleton(t);case"tabs":return yield this.createShadcnTabs(t);default:return console.error(`[ShadcnFigmaConverter] Unsupported component type: ${e}`),null}}catch(t){return console.error(`[ShadcnFigmaConverter] Error creating ${e}:`,t),null}})}}h.colorMap={primary:{r:.129,g:.588,b:.953},"primary-foreground":{r:1,g:1,b:1},secondary:{r:.176,g:.176,b:.176},"secondary-foreground":{r:1,g:1,b:1},destructive:{r:.957,g:.263,b:.212},"destructive-foreground":{r:1,g:1,b:1},accent:{r:.227,g:.227,b:.227},"accent-foreground":{r:1,g:1,b:1},muted:{r:.227,g:.227,b:.227},"muted-foreground":{r:.7,g:.7,b:.7},background:{r:.118,g:.118,b:.118},foreground:{r:1,g:1,b:1},card:{r:.176,g:.176,b:.176},"card-foreground":{r:1,g:1,b:1},border:{r:.3,g:.3,b:.3},input:{r:.3,g:.3,b:.3},ring:{r:.129,g:.588,b:.953},success:{r:.298,g:.686,b:.314},"success-foreground":{r:1,g:1,b:1},warning:{r:1,g:.596,b:0},"warning-foreground":{r:1,g:1,b:1}},h.sizeMap={button:{default:{width:120,height:36,paddingX:16,paddingY:8,fontSize:14},sm:{width:100,height:32,paddingX:12,paddingY:6,fontSize:12},lg:{width:140,height:40,paddingX:24,paddingY:10,fontSize:16},icon:{width:36,height:36,paddingX:0,paddingY:0,fontSize:14}},card:{default:{width:320,height:240,padding:24,spacing:16},sm:{width:280,height:200,padding:16,spacing:12},lg:{width:400,height:300,padding:32,spacing:20}},input:{default:{width:320,height:40,paddingX:12,fontSize:14},sm:{width:280,height:32,paddingX:8,fontSize:12},lg:{width:360,height:48,paddingX:16,fontSize:16}},badge:{default:{paddingX:10,paddingY:2,fontSize:12},sm:{paddingX:8,paddingY:1,fontSize:10},lg:{paddingX:12,paddingY:3,fontSize:14}}};var y=function(e,t,a,i){return new(a||(a=Promise))(function(o,n){function r(e){try{l(i.next(e))}catch(e){n(e)}}function s(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(r,s)}l((i=i.apply(e,t||[])).next())})};class b{static initialize(){return y(this,void 0,void 0,function*(){try{this.initializeDefaultMappings()}catch(e){console.error("[ComponentRenderer] Failed to initialize:",e)}})}static createComponent(e,t,i){return y(this,void 0,void 0,function*(){try{let o=null;if("shadcn"===t.library||!0===t.useShadcn)o=yield h.createComponent(e,t);else if(d[e])o=yield d[e](t);else if(g[e])o=yield g[e](t);else if(m[e])o=yield m[e](t);else if(o=yield a.createFromTemplate(e,t),!o){const a=this.mappings.get(e);if(!a)throw new Error(`No mapping found for component type: ${e}`);const o=this.convertToFigmaProps(t,a);switch(e){case"button":return void(yield this.createButton(o,i));case"card":return void(yield this.createCard(o,i));case"input":return void(yield this.createInput(o,i));case"badge":return void(yield this.createBadge(o,i));case"text":return void(yield this.createText(o,i));default:throw new Error(`Unsupported component type: ${e}`)}}o&&(i?this.positionNode(o,i):this.positionNode(o),figma.currentPage.selection=[o],figma.viewport.scrollAndZoomIntoView([o])),figma.notify(`✨ Created ${e} component!`)}catch(t){console.error(`[ComponentRenderer] Error creating ${e}:`,t),figma.notify(`❌ Failed to create ${e}`,{error:!0})}})}static convertToFigmaProps(e,t){const a={},i=t.onceToFigmaProps,o=t.styleMappings,n=Object.entries(i);for(let t=0;t<n.length;t++){const i=n[t];if(!i)continue;const o=i[0],r=i[1];if(void 0!==e[o])if("object"!=typeof r||null===r||Array.isArray(r))a[r]=e[o];else{const t=e[o];if(t&&r[t]){const e=r[t];for(const t in e)e.hasOwnProperty(t)&&(a[t]=e[t])}}}if(o&&e.variant){const t=o[e.variant];if(t)for(const e in t)t.hasOwnProperty(e)&&(a[e]=t[e])}return a}static createButton(t,a){return y(this,void 0,void 0,function*(){const i=figma.createFrame();i.name="Once UI Button",i.resize(t.width||120,t.height||48),i.cornerRadius=t.cornerRadius||8,i.layoutMode="HORIZONTAL",i.primaryAxisAlignItems="CENTER",i.counterAxisAlignItems="CENTER",i.paddingLeft=t.paddingLeft||24,i.paddingRight=t.paddingRight||24,i.paddingTop=t.paddingTop||12,i.paddingBottom=t.paddingBottom||12,t.backgroundColor&&(i.fills=[{type:"SOLID",color:t.backgroundColor}]);try{const a=figma.createText();a.characters=t.text||"Button",a.fontSize=16,a.fontName=e.getSafeFont("Inter","Medium"),a.fills=[{type:"SOLID",color:t.textColor||{r:1,g:1,b:1}}],i.appendChild(a)}catch(e){console.error("[ComponentRenderer] Error creating button text:",e)}this.positionNode(i,a),figma.currentPage.selection=[i],figma.viewport.scrollAndZoomIntoView([i])})}static createCard(t,a){return y(this,void 0,void 0,function*(){const i=figma.createFrame();if(i.name="Once UI Card",i.resize(t.width||320,t.height||240),i.cornerRadius=t.cornerRadius||16,i.layoutMode="VERTICAL",i.itemSpacing=t.itemSpacing||16,i.paddingLeft=t.padding||24,i.paddingRight=t.padding||24,i.paddingTop=t.padding||24,i.paddingBottom=t.padding||24,i.fills=[{type:"SOLID",color:t.backgroundColor||{r:1,g:1,b:1}}],t.shadow&&(i.effects=[t.shadow]),t.title||t.description)try{if(t.title){const a=figma.createText();a.characters=t.title,a.fontSize=18,a.fontName=e.getSafeFont("Inter","Bold"),a.fills=[{type:"SOLID",color:{r:.1,g:.1,b:.1}}],i.appendChild(a)}if(t.description){const a=figma.createText();a.characters=t.description,a.fontSize=14,a.fontName=e.getSafeFont("Inter","Regular"),a.fills=[{type:"SOLID",color:{r:.4,g:.4,b:.4}}],a.layoutAlign="STRETCH",i.appendChild(a)}}catch(e){console.error("[ComponentRenderer] Error creating card text:",e)}this.positionNode(i,a),figma.currentPage.selection=[i],figma.viewport.scrollAndZoomIntoView([i])})}static createInput(t,a){return y(this,void 0,void 0,function*(){const i=figma.createFrame();i.name="Once UI Input",i.layoutMode="VERTICAL",i.itemSpacing=8;try{if(t.label){const a=figma.createText();a.characters=t.label,a.fontSize=14,a.fontName=e.getSafeFont("Inter","Medium"),a.fills=[{type:"SOLID",color:{r:.1,g:.1,b:.1}}],i.appendChild(a)}const a=figma.createFrame();if(a.resize(t.width||320,t.height||48),a.cornerRadius=t.cornerRadius||8,a.fills=[{type:"SOLID",color:t.backgroundColor||{r:.98,g:.98,b:.98}}],a.strokes=[{type:"SOLID",color:t.borderColor||{r:.8,g:.8,b:.8}}],a.strokeWeight=1,a.layoutMode="HORIZONTAL",a.paddingLeft=16,a.paddingRight=16,a.primaryAxisAlignItems="CENTER",t.placeholder){const i=figma.createText();i.characters=t.placeholder,i.fontSize=14,i.fontName=e.getSafeFont("Inter","Regular"),i.fills=[{type:"SOLID",color:{r:.6,g:.6,b:.6}}],a.appendChild(i)}i.appendChild(a)}catch(e){console.error("[ComponentRenderer] Font loading error:",e)}this.positionNode(i,a),figma.currentPage.selection=[i],figma.viewport.scrollAndZoomIntoView([i])})}static createBadge(t,a){return y(this,void 0,void 0,function*(){const i=figma.createFrame();i.name="Once UI Badge",i.layoutMode="HORIZONTAL",i.primaryAxisAlignItems="CENTER",i.counterAxisAlignItems="CENTER",i.paddingLeft=t.paddingX||12,i.paddingRight=t.paddingX||12,i.paddingTop=t.paddingY||4,i.paddingBottom=t.paddingY||4,i.cornerRadius=t.cornerRadius||999,t.backgroundColor&&(i.fills=[{type:"SOLID",color:t.backgroundColor}]);try{const a=figma.createText();a.characters=t.text||"Badge",a.fontSize=12,a.fontName=e.getSafeFont("Inter","Medium"),a.fills=[{type:"SOLID",color:t.color||{r:1,g:1,b:1}}],i.appendChild(a)}catch(e){console.error("[ComponentRenderer] Error creating badge text:",e)}this.positionNode(i,a),figma.currentPage.selection=[i],figma.viewport.scrollAndZoomIntoView([i])})}static createText(t,a){return y(this,void 0,void 0,function*(){try{const i="Bold"===t.fontWeight?"Bold":"Medium"===t.fontWeight?"Medium":"Regular",o=figma.createText();o.name="Once UI Text",o.characters=t.characters||"Text",o.fontSize=t.fontSize||14,o.fontName=e.getSafeFont("Inter",i),o.textAlignHorizontal=t.textAlign||"LEFT",t.color&&(o.fills=[{type:"SOLID",color:t.color}]),this.positionNode(o,a),figma.currentPage.selection=[o],figma.viewport.scrollAndZoomIntoView([o])}catch(e){console.error("[ComponentRenderer] Error creating text:",e)}})}static positionNode(e,t){if(t&&void 0!==t.x&&void 0!==t.y)"x"in e&&"y"in e&&(e.x=t.x,e.y=t.y);else{const t=figma.viewport.center;"x"in e&&"y"in e&&"width"in e&&"height"in e&&(e.x=Math.round(t.x-e.width/2),e.y=Math.round(t.y-e.height/2))}}static initializeDefaultMappings(){this.mappings.set("button",{componentType:"button",onceUiComponent:"Button",figmaToOnceProps:{text:"children",width:"style.width",height:"style.height",backgroundColor:"variant",cornerRadius:"radius"},onceToFigmaProps:{children:"text",variant:"backgroundColor",size:{small:{width:80,height:32},medium:{width:120,height:40},large:{width:160,height:48}},radius:"cornerRadius"},styleMappings:{primary:{backgroundColor:{r:.388,g:.4,b:.965}},secondary:{backgroundColor:{r:.8,g:.8,b:.8}},danger:{backgroundColor:{r:.95,g:.3,b:.3}}}}),this.mappings.set("card",{componentType:"card",onceUiComponent:"Card",figmaToOnceProps:{width:"style.width",height:"style.height",cornerRadius:"radius",padding:"style.padding"},onceToFigmaProps:{radius:"cornerRadius",padding:"padding",elevation:{small:{type:"DROP_SHADOW",color:{r:0,g:0,b:0,a:.1},offset:{x:0,y:2},radius:8},medium:{type:"DROP_SHADOW",color:{r:0,g:0,b:0,a:.15},offset:{x:0,y:4},radius:16},large:{type:"DROP_SHADOW",color:{r:0,g:0,b:0,a:.2},offset:{x:0,y:8},radius:24}}}}),this.mappings.set("input",{componentType:"input",onceUiComponent:"Input",figmaToOnceProps:{placeholder:"placeholder",label:"label",width:"style.width",height:"style.height"},onceToFigmaProps:{placeholder:"placeholder",label:"label",size:{small:{height:32},medium:{height:40},large:{height:48}}}}),this.mappings.set("badge",{componentType:"badge",onceUiComponent:"Badge",figmaToOnceProps:{text:"children",backgroundColor:"variant"},onceToFigmaProps:{children:"text",size:{small:{paddingX:8,paddingY:2},medium:{paddingX:12,paddingY:4}}},styleMappings:{primary:{backgroundColor:{r:.388,g:.4,b:.965},color:{r:1,g:1,b:1}},secondary:{backgroundColor:{r:.9,g:.9,b:.9},color:{r:.1,g:.1,b:.1}},success:{backgroundColor:{r:.3,g:.8,b:.3},color:{r:1,g:1,b:1}},warning:{backgroundColor:{r:1,g:.7,b:0},color:{r:0,g:0,b:0}},danger:{backgroundColor:{r:.95,g:.3,b:.3},color:{r:1,g:1,b:1}}}}),this.mappings.set("text",{componentType:"text",onceUiComponent:"Text",figmaToOnceProps:{characters:"children",fontSize:"size",fontWeight:"weight"},onceToFigmaProps:{children:"characters",size:"fontSize",weight:"fontWeight"}})}}b.mappings=new Map,b.componentsCache=new Map,b.initialize();const S=new class{constructor(){this.componentPatterns={button:/\b(button|btn|cta|call to action|submit|click|action|primary|secondary)\b/i,card:/\b(card|panel|container|box|section|tile|content)\b/i,input:/\b(input|field|textfield|text field|form field|email|password|search)\b/i,text:/\b(text|label|heading|title|paragraph|header|h1|h2|h3)\b/i,badge:/\b(badge|tag|chip|pill|status|indicator|label)\b/i,navbar:/\b(navbar|navigation|nav|menu|header|toolbar)\b/i,modal:/\b(modal|dialog|popup|overlay|lightbox)\b/i,toast:/\b(toast|notification|alert|message|snackbar)\b/i,table:/\b(table|grid|data|list|spreadsheet)\b/i,select:/\b(select|dropdown|picker|choice|option)\b/i,checkbox:/\b(checkbox|check|tick)\b/i,radio:/\b(radio|option button)\b/i,toggle:/\b(toggle|switch|on off)\b/i,slider:/\b(slider|range|progress)\b/i,textarea:/\b(textarea|text area|multiline|comment box|message box)\b/i},this.actionPatterns={create:/\b(create|make|build|add|design|generate|give me|i need|i want|can you|please|show me a)\b/i,modify:/\b(change|modify|update|edit|make it|set|transform)\b/i,explain:/\b(what|how|explain|tell me|show me how|help)\b/i,list:/\b(list|show all|what can|available|options)\b/i},this.greetingPatterns=/^(hey|hi|hello|yo|sup|howdy|greetings|hola|bonjour|hiya)(\s|!|$)/i,this.sizePatterns={small:/\b(small|tiny|mini|sm|compact)\b/i,medium:/\b(medium|regular|normal|md|default)\b/i,large:/\b(large|big|huge|lg|xl)\b/i},this.colorPatterns={primary:/\b(primary|main|default)\b/i,secondary:/\b(secondary|alternate)\b/i,success:/\b(success|green|positive)\b/i,danger:/\b(danger|error|red|negative)\b/i,warning:/\b(warning|caution|yellow|orange)\b/i,info:/\b(info|information|blue)\b/i,dark:/\b(dark|black)\b/i,light:/\b(light|white)\b/i},this.stylePatterns={gradient:/\b(gradient|gradual|fade|blend)\b/i,glass:/\b(glass|glassmorphism|blur|frosted|transparent)\b/i,neumorphic:/\b(neumorphic|neumorph|soft ui|3d)\b/i,elevated:/\b(elevated|raised|shadow|depth)\b/i,outline:/\b(outline|outlined|border)\b/i,ghost:/\b(ghost|transparent|text only)\b/i,flat:/\b(flat|minimal|simple)\b/i},this.propertyPatterns={text:/(?:with text|saying|labeled?|text:?)\s*["']?([^"'\n]+)["']?/i,placeholder:/(?:placeholder|hint):?\s*["']?([^"'\n]+)["']?/i,rounded:/\b(rounded|round|circular)\b/i,disabled:/\b(disabled|inactive)\b/i,fullWidth:/\b(full width|fullwidth|stretch|100%)\b/i}}parse(e){const t=e.toLowerCase().trim();if(this.greetingPatterns.test(t))return{type:"unknown",properties:{isGreeting:!0},action:"explain",confidence:1,originalPrompt:e};const a=this.detectAction(t),i=this.detectComponentType(t),o=this.extractProperties(e,i);return{type:i,properties:o,action:a,confidence:this.calculateConfidence(i,a,o),originalPrompt:e}}detectAction(e){for(const[t,a]of Object.entries(this.actionPatterns))if(a.test(e))return t;return"create"}detectComponentType(e){for(const[t,a]of Object.entries(this.componentPatterns))if(a.test(e))return t;return"unknown"}extractProperties(e,t){const a={};for(const[t,i]of Object.entries(this.sizePatterns))if(i.test(e)){a.size=t;break}for(const[t,i]of Object.entries(this.colorPatterns))if(i.test(e)){a.variant=t;break}for(const[t,i]of Object.entries(this.stylePatterns))if(i.test(e)){a.variant=t;break}const i=e.match(this.propertyPatterns.text);if(i&&i[1]?a.text=i[1].trim():"button"!==t||a.text||(a.text="Click me"),"input"===t){const t=e.match(this.propertyPatterns.placeholder);t&&t[1]&&(a.placeholder=t[1].trim())}return this.propertyPatterns.rounded.test(e)&&(a.rounded=!0),this.propertyPatterns.disabled.test(e)&&(a.disabled=!0),this.propertyPatterns.fullWidth.test(e)&&(a.fullWidth=!0),this.applyComponentDefaults(t,a),a}applyComponentDefaults(e,t){switch(e){case"button":t.variant=t.variant||"primary",t.size=t.size||"medium";break;case"card":t.padding=t.padding||24,t.elevation=t.elevation||"medium";break;case"input":t.size=t.size||"medium",t.placeholder=t.placeholder||"Enter text...",t.label=t.label||"Input field";break;case"badge":t.variant=t.variant||"primary",t.text=t.text||"Badge";break;case"text":t.size=t.size||"medium",t.text=t.text||"Text content"}}calculateConfidence(e,t,a){let i=0;"unknown"!==e&&(i+=.4),"create"!==t&&(i+=.2);const o=Object.keys(a).length;return i+=Math.min(.1*o,.4),Math.min(i,1)}describeSpec(e){if("unknown"===e.type)return"I'm not sure what component you want to create. Could you be more specific?";const t=e.properties;let a=`Creating a ${t.size||"medium"} ${t.variant||""} ${e.type}`;return t.text&&(a+=` with text "${t.text}"`),t.rounded&&(a+=" with rounded corners"),t.disabled&&(a+=" (disabled state)"),a.trim()}getSuggestions(e){const t=[],a=e.toLowerCase().trim();return this.greetingPatterns.test(a)||a.length<3||"help"===a?["Create a primary button","Make a card with shadow","Build an input field","Design a success badge","Create a large heading"]:((a.includes("create")||a.includes("make")||a.includes("build"))&&t.push('Create a primary button with text "Submit"',"Make a card with title and description","Build an email input field","Create a success badge","Design a large heading"),a.includes("button")?t.push("Create a secondary button","Make a large primary button","Build a danger button","Design a full-width button"):a.includes("card")?t.push("Create a card with shadow","Make a flat card","Build a card with content","Design a wide card"):a.includes("input")&&t.push("Create an email input","Build a password field","Make a search input","Design a form with inputs"),0===t.length&&t.push("Create a primary button","Make a modern card","Build an input field","Show me all components","Help me design"),t.slice(0,5))}};var I=function(e,t,a,i){return new(a||(a=Promise))(function(o,n){function r(e){try{l(i.next(e))}catch(e){n(e)}}function s(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(r,s)}l((i=i.apply(e,t||[])).next())})};class F{constructor(){this.sandboxFrame=null,this.componentCount=0}initialize(){return I(this,void 0,void 0,function*(){console.log("[SandboxManager] Initializing sandbox...");const e=figma.root.children;for(const t of e){const e=this.findSandboxInPage(t);if(e)return this.sandboxFrame=e,this.componentCount=e.children.length,console.log("[SandboxManager] Found existing sandbox with",this.componentCount,"components"),e}return this.createSandbox()})}findSandboxInPage(e){try{if(e===figma.currentPage)return e.findAll(e=>"FRAME"===e.type&&e.name===F.SANDBOX_NAME)[0]||null;for(const t of e.children)if("FRAME"===t.type&&t.name===F.SANDBOX_NAME)return t;return null}catch(e){return console.log("[SandboxManager] Error finding sandbox:",e),null}}createSandbox(){console.log("[SandboxManager] Creating new sandbox frame...");const e=figma.createFrame();e.name=F.SANDBOX_NAME,e.resize(1200,800);const t=figma.viewport.center;return e.x=Math.round(t.x-600),e.y=Math.round(t.y-400),e.fills=[],e.strokes=[{type:"SOLID",color:{r:.129,g:.588,b:.953}}],e.strokeWeight=2,e.dashPattern=[8,4],e.cornerRadius=12,e.clipsContent=!1,this.addSandboxTitle(e),this.sandboxFrame=e,this.componentCount=0,figma.currentPage.selection=[e],figma.viewport.scrollAndZoomIntoView([e]),figma.notify("🎓 Created FigBud Sandbox - Your learning playground!"),e}addSandboxTitle(e){const t=figma.createText();t.characters="🎓 FigBud Sandbox - Learn by Creating",t.fontSize=28,t.fontName={family:"Inter",style:"Bold"},t.fills=[{type:"SOLID",color:{r:.129,g:.588,b:.953}}],t.x=e.x,t.y=e.y-60;const a=figma.createText();a.characters='Components you create will appear here with explanations. Try: "Create a primary button"',a.fontSize=16,a.fontName={family:"Inter",style:"Regular"},a.fills=[{type:"SOLID",color:{r:.4,g:.4,b:.4}}],a.x=e.x,a.y=e.y-30}addComponent(e,t){return I(this,void 0,void 0,function*(){if(this.sandboxFrame||(yield this.initialize()),!this.sandboxFrame)throw new Error("Failed to initialize sandbox");const a=Math.floor(this.componentCount/F.COMPONENTS_PER_ROW),i=this.componentCount%F.COMPONENTS_PER_ROW,o=40+i*(240+F.GRID_SPACING),n=100+a*(280+F.GRID_SPACING),r=figma.createFrame();r.name=`Learning Card ${this.componentCount+1}`,r.resize(240,280),r.x=o,r.y=n,r.fills=[{type:"SOLID",color:{r:.98,g:.99,b:1}}],r.strokes=[{type:"SOLID",color:{r:.129,g:.588,b:.953}}],r.strokeWeight=1,r.cornerRadius=12,r.effects=[{type:"DROP_SHADOW",color:{r:0,g:0,b:0,a:.08},offset:{x:0,y:4},radius:16,visible:!0,blendMode:"NORMAL"}],r.clipsContent=!1,r.layoutMode="VERTICAL",r.itemSpacing=16,r.paddingTop=20,r.paddingBottom=20,r.paddingLeft=20,r.paddingRight=20,"x"in e&&"y"in e&&(e.x=(200-e.width)/2,e.y=20),this.sandboxFrame.appendChild(r),r.appendChild(e);const s=figma.createText();if(s.characters=(null==t?void 0:t.description)||"Component",s.fontSize=16,s.fontName={family:"Inter",style:"Medium"},s.fills=[{type:"SOLID",color:{r:.129,g:.588,b:.953}}],s.textAlignHorizontal="CENTER",s.layoutAlign="STRETCH",r.appendChild(s),null==t?void 0:t.teacherNote){const e=figma.createText();e.characters=`💡 ${t.teacherNote}`,e.fontSize=12,e.fontName={family:"Inter",style:"Regular"},e.fills=[{type:"SOLID",color:{r:.3,g:.3,b:.3}}],e.layoutAlign="STRETCH",e.textAutoResize="HEIGHT",r.appendChild(e)}if(null==t?void 0:t.prompt){const e=figma.createText();e.characters=`📝 "${t.prompt}"`,e.fontSize=11,e.fontName={family:"Inter",style:"Regular"},e.fills=[{type:"SOLID",color:{r:.5,g:.5,b:.5}}],e.layoutAlign="STRETCH",e.textAutoResize="HEIGHT",r.appendChild(e)}const l=figma.createText();l.characters=`⏰ ${(new Date).toLocaleTimeString()}`,l.fontSize=10,l.fontName={family:"Inter",style:"Regular"},l.fills=[{type:"SOLID",color:{r:.6,g:.6,b:.6}}],l.textAlignHorizontal="CENTER",l.layoutAlign="STRETCH",r.appendChild(l),this.componentCount++,figma.viewport.scrollAndZoomIntoView([r]),console.log("[SandboxManager] Added component to sandbox at position",i,a)})}clearSandbox(){return I(this,void 0,void 0,function*(){if(!this.sandboxFrame)return;const e=[...this.sandboxFrame.children];for(const t of e)"TEXT"!==t.type&&t.remove();this.componentCount=0,figma.notify("🧹 Cleared sandbox")})}getStats(){return{componentCount:this.componentCount,sandboxExists:null!==this.sandboxFrame}}focusSandbox(){this.sandboxFrame&&(figma.currentPage.selection=[this.sandboxFrame],figma.viewport.scrollAndZoomIntoView([this.sandboxFrame]))}}F.SANDBOX_NAME="FigBud Sandbox",F.GRID_SPACING=40,F.COMPONENTS_PER_ROW=5;const x=new F;var C=function(e,t,a,i){return new(a||(a=Promise))(function(o,n){function r(e){try{l(i.next(e))}catch(e){n(e)}}function s(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(r,s)}l((i=i.apply(e,t||[])).next())})};const v=new class{constructor(){this.baseUrl="http://localhost:3000/api"}sendChatMessage(e,t){return C(this,void 0,void 0,function*(){var a,i;try{const o=yield fetch(`${this.baseUrl}/chat/message`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e,context:Object.assign(Object.assign({},t),{conversationId:this.conversationId,timestamp:(new Date).toISOString()})})});if(!o.ok)throw new Error(`API error: ${o.status}`);const n=yield o.json();return console.log("[BackendAPI] Raw response from server:",{hasText:!!n.text,hasMessage:!!n.message,textPreview:null===(a=n.text)||void 0===a?void 0:a.substring(0,100),messagePreview:null===(i=n.message)||void 0===i?void 0:i.substring(0,100),fullData:n}),n.conversationId&&(this.conversationId=n.conversationId),n}catch(e){throw console.error("[BackendAPI] Error:",e),e}})}getComponentExplanation(e){return C(this,void 0,void 0,function*(){try{const t=yield fetch(`${this.baseUrl}/components/explain/${e}`);if(!t.ok)throw new Error("Failed to get explanation");return(yield t.json()).explanation||"No explanation available"}catch(t){return console.error("[BackendAPI] Error getting explanation:",t),this.getLocalExplanation(e)}})}getLocalExplanation(e){return{button:"Buttons are interactive elements that trigger actions. Best practices:\n• Use clear, action-oriented labels\n• Primary buttons for main actions\n• Secondary for less important actions\n• Danger buttons for destructive actions",card:"Cards are containers for grouped content. Design tips:\n• Use consistent padding and spacing\n• Add elevation for visual hierarchy\n• Keep content concise and scannable\n• Use cards to create visual boundaries",input:"Input fields collect user data. Guidelines:\n• Always include clear labels\n• Use helpful placeholder text\n• Consider validation states\n• Group related inputs together",badge:"Badges display status or counts. Usage:\n• Keep text short (1-2 words)\n• Use consistent colors for status\n• Position near related content\n• Don't overuse - they draw attention",text:"Typography creates visual hierarchy. Tips:\n• Use size to show importance\n• Limit font variations\n• Ensure good contrast\n• Maintain consistent line spacing"}[e]||"Components should follow consistent design patterns."}healthCheck(){return C(this,void 0,void 0,function*(){try{return(yield fetch(`${this.baseUrl}/health`)).ok}catch(e){return!1}})}};const A=new class{constructor(){this.conversationHistory=[],this.backendAvailable=!1,this.componentPatterns={button:/\b(button|btn|click|submit|action)\b/i,card:/\b(card|container|box|panel)\b/i,input:/\b(input|field|textbox|form|email|password|search)\b/i,badge:/\b(badge|tag|label|status|chip)\b/i,text:/\b(text|heading|title|paragraph|h1|h2|h3)\b/i},this.backendAvailable=!0}sendMessage(e,t){return a=this,i=void 0,n=function*(){var a;let i;this.conversationHistory.push({role:"user",content:e});try{console.log("[OpenRouterService] Calling backend API...");const o=yield v.sendChatMessage(e,Object.assign(Object.assign({},t),{conversationHistory:this.conversationHistory.slice(-5)}));console.log("[OpenRouterService] Backend response:",o),console.log("[OpenRouterService] Text field:",null===(a=o.text)||void 0===a?void 0:a.substring(0,200)),i=this.parseBackendResponse(o)}catch(a){console.error("[OpenRouterService] Backend failed:",a),i=this.processMessageLocally(e,t)}return this.conversationHistory.push({role:"assistant",content:i.message}),i},new((o=void 0)||(o=Promise))(function(e,t){function r(e){try{l(n.next(e))}catch(e){t(e)}}function s(e){try{l(n.throw(e))}catch(e){t(e)}}function l(t){var a;t.done?e(t.value):(a=t.value,a instanceof o?a:new o(function(e){e(a)})).then(r,s)}l((n=n.apply(a,i||[])).next())});var a,i,o,n}parseBackendResponse(e){var t,a,i,o,n,r,s;const l=null===(t=e.metadata)||void 0===t?void 0:t.componentType;return console.log("[OpenRouterService] Raw backend response:",{hasText:!!e.text,hasMessage:!!e.message,textPreview:null===(a=e.text)||void 0===a?void 0:a.substring(0,100),messagePreview:null===(i=e.message)||void 0===i?void 0:i.substring(0,100)}),{message:e.text||e.message||"I received your message but the response was empty.",suggestions:(null===(o=e.metadata)||void 0===o?void 0:o.suggestions)||[],componentSpec:l?{type:l,properties:(null===(n=e.metadata)||void 0===n?void 0:n.properties)||this.extractProperties(e.text,l)}:void 0,metadata:Object.assign(Object.assign({},e.metadata),{teacherNote:(null===(r=e.metadata)||void 0===r?void 0:r.teacherNote)||this.generateTeacherNote(l),explanation:null===(s=e.metadata)||void 0===s?void 0:s.explanation})}}processMessageLocally(e,t){const a=e.toLowerCase().trim();if(this.isGreeting(a))return this.handleGreeting();if(this.isHelpRequest(a))return this.handleHelp();const i=this.detectComponentType(e);if(i){const t=this.extractProperties(e,i);return{message:this.generateCreationMessage(i,t),componentSpec:{type:i,properties:t},suggestions:this.generateContextualSuggestions(i),metadata:{componentType:i,teacherNote:this.generateTeacherNote(i)}}}return{message:"I can help you create UI components! Just tell me what you need.",suggestions:["Create a primary button","Make a card with shadow","Build an input field","Design a success badge","Create a large heading"]}}isGreeting(e){return["hey","hi","hello","yo","sup","greetings","howdy"].some(t=>e.startsWith(t))}isHelpRequest(e){return e.includes("help")||e.includes("what can you")||"?"===e}handleGreeting(){return{message:"Hey! I'm FigBud, your component creation assistant. What would you like to build today?",suggestions:["Create a primary button","Make a modern card","Build an input field","Show me all components"]}}handleHelp(){return{message:"I can create these components for you:\n• Buttons (primary, secondary, danger)\n• Cards (with shadows and content)\n• Input fields (with labels)\n• Badges (success, warning, error)\n• Text elements (headings, paragraphs)\n\nJust describe what you need!",suggestions:["Create a submit button","Make a profile card","Build an email input","Design an error badge"]}}generateCreationMessage(e,t){return{button:`Creating a ${t.variant||"primary"} button${t.label?` with text "${t.label}"`:""}. I'll add it to your sandbox!`,card:`Building a ${t.elevation||"elevated"} card${t.title?` titled "${t.title}"`:""}. Check your sandbox!`,input:`Setting up ${t.label?`a ${t.label} input`:"an input field"}. It's ready in the sandbox!`,badge:`Designing a ${t.variant||"success"} badge${t.text?` saying "${t.text}"`:""}. Added to sandbox!`,text:`Creating ${t.size||"medium"} text${t.text?`: "${t.text}"`:""}. Look for it in the sandbox!`}[e]||`Creating your ${e} component now!`}extractProperties(e,t){const a={},i=e.match(/\b(primary|secondary|danger|success|warning|error|info)\b/i);i&&i[1]&&(a.variant=i[1].toLowerCase());const o=e.match(/\b(small|medium|large|tiny|huge)\b/i);o&&o[1]&&(a.size=o[1].toLowerCase());const n=e.match(/["']([^"']+)["']/);if(n&&n[1])a["button"===t?"label":"text"]=n[1];else{const i=e.match(/(?:with text|saying|labeled?|text)\s+(\w+(?:\s+\w+)*)/i);i&&i[1]&&(a["button"===t?"label":"text"]=i[1].trim())}switch(t){case"card":e.includes("shadow")&&(a.elevation="elevated"),e.includes("flat")&&(a.elevation="flat");break;case"input":e.includes("email")&&(a.label="Email"),e.includes("password")&&(a.label="Password"),e.includes("search")&&(a.label="Search")}return a}generateContextualSuggestions(e){return{button:["Change it to secondary variant","Make it larger","Create a danger button","Add another button"],card:["Add content to the card","Remove the shadow","Create another card","Make it wider"],input:["Add a submit button","Create a password field","Make a form","Add validation"],badge:["Change to error variant","Create a warning badge","Make it smaller","Add to a card"],text:["Make it a heading","Change the size","Add a paragraph","Create a subtitle"]}[e]||["Create another component","Show me the sandbox"]}detectComponentType(e){for(const[t,a]of Object.entries(this.componentPatterns))if(a.test(e))return t}generateTeacherNote(e){return e?{button:"Buttons should have clear labels and appropriate visual hierarchy. Primary buttons draw the most attention.",card:"Cards are great for grouping related content. Use consistent spacing and elevation for better visual hierarchy.",input:"Input fields should have clear labels and helpful placeholder text. Consider adding validation states.",badge:"Badges are perfect for status indicators or counts. Keep them small and use colors meaningfully.",text:"Typography creates hierarchy. Use different sizes and weights to guide users through your content."}[e]||"Great choice! This component will enhance your design.":"Start by describing what you want to create!"}clearHistory(){this.conversationHistory=[]}};var w=function(e,t,a,i){return new(a||(a=Promise))(function(o,n){function r(e){try{l(i.next(e))}catch(e){n(e)}}function s(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(r,s)}l((i=i.apply(e,t||[])).next())})};const O=new class{constructor(){this.conversationHistory=[]}processMessage(e,t){return w(this,void 0,void 0,function*(){this.conversationHistory.push({role:"user",content:e,timestamp:new Date});try{const a=yield A.sendMessage(e,t);if(a.componentSpec){const t={type:a.componentSpec.type,properties:a.componentSpec.properties,action:"create",confidence:.9,originalPrompt:e};return"unknown"!==t.type&&(yield this.createComponentInSandbox(t,a.metadata)),Object.assign(Object.assign({},a),{componentSpec:t})}const i=S.parse(e);switch(console.log("[AIService] Parsed spec:",i),i.action){case"create":return this.handleCreate(i,e);case"modify":return this.handleModify(i,e);case"explain":return this.handleExplain(i,e);case"list":return this.handleList(e);default:return a?Object.assign(Object.assign({},a),{componentSpec:void 0}):this.handleUnknown(e)}}catch(t){return console.error("[AIService] Error processing message:",t),this.handleUnknown(e)}})}handleCreate(e,t){return w(this,void 0,void 0,function*(){if("unknown"===e.type)return{message:"I'd love to create something for you! Could you be a bit more specific? For example, you could say 'create a blue button' or 'make a card with a shadow'. What kind of component are you envisioning?",suggestions:["Create a primary button","Make a card with title and description","Build an input field with placeholder","Design a success badge","Create a large heading"]};const t=S.describeSpec(e);try{yield this.createComponentInSandbox(e);const a={message:`✨ ${t}! I've added it to your sandbox.`,action:{type:"create_component",data:e},componentSpec:e,suggestions:this.getContextualSuggestions(e)};return this.conversationHistory.push({role:"assistant",content:a.message,timestamp:new Date}),a}catch(e){return{message:`Sorry, I couldn't create the component: ${e}`,suggestions:["Try again with a simpler request","Check if Figma has the required fonts"]}}})}createComponentInSandbox(e,t){return w(this,void 0,void 0,function*(){yield x.initialize(),yield b.createComponent(e.type,e.properties,{x:0,y:0});const a=figma.currentPage.selection[0];a&&(yield x.addComponent(a,{description:e.type.charAt(0).toUpperCase()+e.type.slice(1),prompt:e.originalPrompt,teacherNote:(null==t?void 0:t.teacherNote)||this.getComponentExplanation(e.type)}))})}handleModify(e,t){return w(this,void 0,void 0,function*(){const e=figma.currentPage.selection[0];return e?{message:"Component modification is coming soon! For now, try creating a new component with your desired properties.",suggestions:this.getModificationSuggestions(e.type)}:{message:"Please select a component to modify first.",suggestions:["Select a button to change its color","Select a card to resize it"]}})}handleExplain(e,t){return w(this,void 0,void 0,function*(){return t.includes("button")?{message:"Buttons are interactive elements that trigger actions. In FigBud, you can create buttons with different sizes (small, medium, large) and variants (primary, secondary, danger). Try: 'Create a large primary button with text Submit'",suggestions:["Create a primary button","Create a danger button","Create a small secondary button"]}:{message:"I can help you create various UI components like buttons, cards, inputs, badges, and text. Just tell me what you need in plain English!",suggestions:["What components can you create?","How do I create a button?","Show me card examples"]}})}handleList(e){return w(this,void 0,void 0,function*(){return{message:"I can create these components for you:\n\n• **Buttons** - Interactive elements (primary, secondary, danger)\n• **Cards** - Content containers with optional shadows\n• **Inputs** - Form fields with labels and placeholders\n• **Badges** - Small status indicators\n• **Text** - Headings and paragraphs\n\nJust describe what you need!",suggestions:["Create a primary button","Make a card with shadow","Build an input field","Design a success badge","Create a heading"]}})}handleUnknown(e){return w(this,void 0,void 0,function*(){const t=e.toLowerCase();return t.includes("help")&&t.includes("design")?{message:"I'd be happy to help with your design! 🎨 What are you working on? I can help you create buttons, cards, forms, navigation bars, and more. Just describe what you need!",suggestions:["Show me button examples","I need a card layout","Help me with a form design","Create a navigation bar"]}:t.includes("component")&&(t.includes("new")||t.includes("create"))?{message:"Let's create something awesome! What type of component do you need? I can help you design buttons for actions, cards for content, input fields for forms, or badges for status indicators. Just tell me what you're building!",suggestions:["Create a primary button","Design a content card","Build a form input","Make a status badge"]}:t.includes("hey")||t.includes("hello")||t.includes("hi")?{message:"Hey there! 👋 I'm FigBud, your design assistant. I can help you create UI components quickly. What would you like to work on today?",suggestions:["Show me what you can do","I need help with my design","Create a button","Teach me about components"]}:{message:"I'd love to help! I can create various UI components for you. Try saying something like 'create a blue button' or 'make a card with a shadow'. What would you like to build?",suggestions:S.getSuggestions(e)}})}getContextualSuggestions(e){const t=[];switch(e.type){case"button":t.push("Create a gradient button with hover effect","Make a glass button with blur","Create a button group","Add an icon button","Create a floating action button");break;case"card":t.push("Create a glass card with blur effect","Make a neumorphic card","Create a stats card with numbers","Add an image card with overlay","Create a product card");break;case"input":t.push("Create a search input with icon","Make a password input field","Create a select dropdown","Add a textarea for comments","Create a date picker");break;case"navbar":t.push("Create a sidebar navigation","Add a tab navigation","Create breadcrumbs","Make a mobile menu","Add a search bar");break;case"modal":t.push("Create a confirmation dialog","Make a form modal","Create a image gallery modal","Add a notification toast","Create an alert dialog");break;case"toast":t.push("Create an error notification","Make a success message","Create a warning alert","Add a loading spinner","Create a progress bar");break;default:t.push("Create a modern button","Make a professional card","Create a navigation bar","Build a data table","Design a modal dialog")}return t.slice(0,5)}getModificationSuggestions(e){const t=[];return"FRAME"!==e&&"COMPONENT"!==e||t.push("Change color to primary","Make it larger","Add rounded corners","Change the text"),t}clearHistory(){this.conversationHistory=[]}getHistory(){return this.conversationHistory}getComponentExplanation(e){return{button:"Buttons trigger actions. Use primary for main actions, secondary for less important ones.",card:"Cards group related content. Use elevation and spacing to create visual hierarchy.",input:"Input fields collect user data. Always include labels and helpful placeholders.",badge:"Badges show status or counts. Use color consistently across your design.",text:"Typography creates hierarchy. Use size and weight to guide user attention."}[e]||"Great component! Keep exploring different variations."}};var T=function(e,t,a,i){return new(a||(a=Promise))(function(o,n){function r(e){try{l(i.next(e))}catch(e){n(e)}}function s(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(r,s)}l((i=i.apply(e,t||[])).next())})};class R{static createLoginForm(){return T(this,void 0,void 0,function*(){const e=figma.createFrame();return e.name="Login Form",e.resize(400,500),e.layoutMode="VERTICAL",e.itemSpacing=24,e.paddingLeft=40,e.paddingRight=40,e.paddingTop=48,e.paddingBottom=48,e.cornerRadius=16,e.fills=[{type:"SOLID",color:{r:1,g:1,b:1}}],e.effects=[{type:"DROP_SHADOW",color:{r:0,g:0,b:0,a:.1},offset:{x:0,y:4},radius:20,visible:!0,blendMode:"NORMAL"}],yield this.addToFrame(e,[{type:"heading",text:"Welcome Back",size:28,weight:"Bold"},{type:"text",text:"Sign in to your account to continue",size:14,color:"muted"},{type:"spacer",height:16},{type:"input",label:"Email",placeholder:"john@example.com",library:"shadcn"},{type:"input",label:"Password",placeholder:"••••••••",library:"shadcn"},{type:"checkbox",label:"Remember me"},{type:"spacer",height:8},{type:"button",text:"Sign In",variant:"default",library:"shadcn",fullWidth:!0},{type:"divider",text:"OR"},{type:"button",text:"Continue with Google",variant:"outline",library:"shadcn",fullWidth:!0},{type:"text",text:"Don't have an account? Sign up",size:12,align:"center"}]),e})}static createPricingCard(){return T(this,arguments,void 0,function*(e="pro"){const t={free:{name:"Free",price:"$0",period:"/month",features:["Up to 10 projects","2GB storage","Basic support"],buttonText:"Get Started",variant:"outline"},pro:{name:"Pro",price:"$29",period:"/month",features:["Unlimited projects","100GB storage","Priority support","Advanced analytics"],buttonText:"Start Free Trial",variant:"default",popular:!0},enterprise:{name:"Enterprise",price:"Custom",period:"",features:["Unlimited everything","Dedicated support","Custom integrations","SLA guarantee"],buttonText:"Contact Sales",variant:"secondary"}}[e],a=figma.createFrame();a.name=`Pricing Card - ${t.name}`,a.resize(320,480),a.layoutMode="VERTICAL",a.itemSpacing=20,a.paddingLeft=32,a.paddingRight=32,a.paddingTop=40,a.paddingBottom=40,a.cornerRadius=12,a.fills=[{type:"SOLID",color:{r:1,g:1,b:1}}];const i="popular"in t&&t.popular;if(a.strokes=i?[{type:"SOLID",color:{r:.388,g:.4,b:.965}}]:[{type:"SOLID",color:{r:.9,g:.9,b:.9}}],a.strokeWeight=i?2:1,i){const e=yield h.createShadcnBadge({children:"Most Popular",variant:"default",library:"shadcn"});e.x=a.width/2-e.width/2,e.y=-12,a.appendChild(e)}return yield this.addToFrame(a,[{type:"text",text:t.name,size:20,weight:"Bold",align:"center"},{type:"price",price:t.price,period:t.period},{type:"divider"},{type:"featureList",features:t.features},{type:"spacer",height:"auto"},{type:"button",text:t.buttonText,variant:t.variant,library:"shadcn",fullWidth:!0}]),a})}static createFeatureSection(){return T(this,void 0,void 0,function*(){const e=figma.createFrame();e.name="Feature Section",e.resize(1200,600),e.layoutMode="VERTICAL",e.itemSpacing=64,e.paddingLeft=80,e.paddingRight=80,e.paddingTop=80,e.paddingBottom=80,e.fills=[{type:"SOLID",color:{r:.98,g:.98,b:.99}}];const t=figma.createFrame();t.layoutMode="VERTICAL",t.itemSpacing=16,t.counterAxisAlignItems="CENTER",t.layoutAlign="STRETCH",yield this.addToFrame(t,[{type:"text",text:"Features",size:14,weight:"Medium",color:"primary"},{type:"heading",text:"Everything you need to build modern apps",size:36,weight:"Bold",align:"center"},{type:"text",text:"Our platform provides all the tools and services you need to go from idea to production.",size:18,color:"muted",align:"center"}]),e.appendChild(t);const a=figma.createFrame();a.name="Feature Grid",a.layoutMode="HORIZONTAL",a.layoutWrap="WRAP",a.itemSpacing=32,a.counterAxisSpacing=32,a.layoutAlign="STRETCH";const i=[{icon:"⚡",title:"Lightning Fast",description:"Optimized for speed with edge computing."},{icon:"🔒",title:"Secure by Default",description:"Enterprise-grade security built in."},{icon:"🚀",title:"Easy Deployment",description:"Deploy to production in minutes."},{icon:"📊",title:"Analytics Built-in",description:"Track performance and user behavior."},{icon:"🔧",title:"Developer Friendly",description:"Comprehensive APIs and documentation."},{icon:"💬",title:"24/7 Support",description:"Get help whenever you need it."}];for(const e of i){const t=yield this.createFeatureCard(e);a.appendChild(t)}return e.appendChild(a),e})}static createNavigationBar(){return T(this,void 0,void 0,function*(){const t=figma.createFrame();t.name="Navigation Bar",t.resize(1200,72),t.layoutMode="HORIZONTAL",t.primaryAxisAlignItems="CENTER",t.counterAxisAlignItems="CENTER",t.paddingLeft=40,t.paddingRight=40,t.fills=[{type:"SOLID",color:{r:1,g:1,b:1}}],t.effects=[{type:"DROP_SHADOW",color:{r:0,g:0,b:0,a:.05},offset:{x:0,y:1},radius:3,visible:!0,blendMode:"NORMAL"}];const a=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Bold")),a.characters="YourLogo",a.fontSize=20,a.fontName=e.getSafeFont("Inter","Bold"),t.appendChild(a);const i=figma.createFrame();i.layoutGrow=1,i.fills=[],t.appendChild(i);const o=["Home","Features","Pricing","About","Contact"];for(const a of o){const i=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Medium")),i.characters=a,i.fontSize=14,i.fontName=e.getSafeFont("Inter","Medium"),i.fills=[{type:"SOLID",color:{r:.4,g:.4,b:.4}}];const o=figma.createFrame();o.layoutMode="HORIZONTAL",o.paddingLeft=16,o.paddingRight=16,o.paddingTop=8,o.paddingBottom=8,o.appendChild(i),t.appendChild(o)}const n=figma.createFrame();n.layoutGrow=1,n.fills=[],t.appendChild(n);const r=yield h.createShadcnButton({children:"Log In",variant:"ghost",library:"shadcn"});t.appendChild(r);const s=yield h.createShadcnButton({children:"Sign Up",variant:"default",library:"shadcn"});return t.appendChild(s),t})}static addToFrame(t,a){return T(this,void 0,void 0,function*(){for(const i of a){let a=null;switch(i.type){case"heading":case"text":a=figma.createText();const t=i.weight||("heading"===i.type?"Bold":"Regular");yield figma.loadFontAsync(e.getSafeFont("Inter",t)),a.characters=i.text,a.fontSize=i.size||14,a.fontName=e.getSafeFont("Inter",t),"muted"===i.color?a.fills=[{type:"SOLID",color:{r:.6,g:.6,b:.6}}]:"primary"===i.color&&(a.fills=[{type:"SOLID",color:{r:.388,g:.4,b:.965}}]),"center"===i.align&&(a.textAlignHorizontal="CENTER");break;case"button":"shadcn"===i.library&&(a=yield h.createShadcnButton({children:i.text,variant:i.variant||"default",library:"shadcn"})),i.fullWidth&&a&&(a.layoutAlign="STRETCH");break;case"input":if("shadcn"===i.library){const t=figma.createFrame();if(t.layoutMode="VERTICAL",t.itemSpacing=8,t.layoutAlign="STRETCH",i.label){const a=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Medium")),a.characters=i.label,a.fontSize=14,a.fontName=e.getSafeFont("Inter","Medium"),t.appendChild(a)}const o=yield h.createShadcnInput({placeholder:i.placeholder,library:"shadcn"});o.layoutAlign="STRETCH",t.appendChild(o),a=t}break;case"spacer":a=figma.createFrame(),a.fills=[],"auto"===i.height?a.layoutGrow=1:a.resize(1,i.height||16);break;case"divider":const o=figma.createFrame();o.layoutMode="HORIZONTAL",o.counterAxisAlignItems="CENTER",o.itemSpacing=16,o.layoutAlign="STRETCH";const n=figma.createLine();if(n.resize(100,0),n.strokes=[{type:"SOLID",color:{r:.9,g:.9,b:.9}}],n.strokeWeight=1,i.text){const t=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Regular")),t.characters=i.text,t.fontSize=12,t.fontName=e.getSafeFont("Inter","Regular"),t.fills=[{type:"SOLID",color:{r:.6,g:.6,b:.6}}];const a=figma.createFrame();a.layoutGrow=1,a.resize(100,1),a.fills=[{type:"SOLID",color:{r:.9,g:.9,b:.9}}];const n=figma.createFrame();n.layoutGrow=1,n.resize(100,1),n.fills=[{type:"SOLID",color:{r:.9,g:.9,b:.9}}],o.appendChild(a),o.appendChild(t),o.appendChild(n)}else{const e=figma.createFrame();e.layoutAlign="STRETCH",e.resize(100,1),e.fills=[{type:"SOLID",color:{r:.9,g:.9,b:.9}}],o.appendChild(e)}a=o;break;case"checkbox":const r=figma.createFrame();r.layoutMode="HORIZONTAL",r.counterAxisAlignItems="CENTER",r.itemSpacing=8;const s=figma.createFrame();s.resize(16,16),s.cornerRadius=4,s.strokes=[{type:"SOLID",color:{r:.8,g:.8,b:.8}}],s.strokeWeight=1,s.fills=[{type:"SOLID",color:{r:1,g:1,b:1}}];const l=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Regular")),l.characters=i.label||"Checkbox",l.fontSize=14,l.fontName=e.getSafeFont("Inter","Regular"),r.appendChild(s),r.appendChild(l),a=r;break;case"price":const c=figma.createFrame();c.layoutMode="HORIZONTAL",c.counterAxisAlignItems="BASELINE",c.primaryAxisAlignItems="CENTER",c.layoutAlign="STRETCH";const d=figma.createText();if(yield figma.loadFontAsync(e.getSafeFont("Inter","Bold")),d.characters=i.price,d.fontSize=36,d.fontName=e.getSafeFont("Inter","Bold"),i.period){const t=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Regular")),t.characters=i.period,t.fontSize=16,t.fontName=e.getSafeFont("Inter","Regular"),t.fills=[{type:"SOLID",color:{r:.6,g:.6,b:.6}}],c.appendChild(d),c.appendChild(t)}else c.appendChild(d);a=c;break;case"featureList":const p=figma.createFrame();p.layoutMode="VERTICAL",p.itemSpacing=12,p.layoutAlign="STRETCH";for(const t of i.features){const a=figma.createFrame();a.layoutMode="HORIZONTAL",a.itemSpacing=12,a.counterAxisAlignItems="CENTER";const i=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Regular")),i.characters="✓",i.fontSize=16,i.fontName=e.getSafeFont("Inter","Regular"),i.fills=[{type:"SOLID",color:{r:.3,g:.8,b:.3}}];const o=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Regular")),o.characters=t,o.fontSize=14,o.fontName=e.getSafeFont("Inter","Regular"),a.appendChild(i),a.appendChild(o),p.appendChild(a)}a=p}a&&t.appendChild(a)}})}static createFeatureCard(t){return T(this,void 0,void 0,function*(){const a=figma.createFrame();a.resize(350,200),a.layoutMode="VERTICAL",a.itemSpacing=16,a.paddingLeft=24,a.paddingRight=24,a.paddingTop=24,a.paddingBottom=24,a.cornerRadius=12,a.fills=[{type:"SOLID",color:{r:1,g:1,b:1}}],a.strokes=[{type:"SOLID",color:{r:.95,g:.95,b:.95}}],a.strokeWeight=1;const i=figma.createFrame();i.resize(48,48),i.cornerRadius=10,i.fills=[{type:"SOLID",color:{r:.95,g:.96,b:1}}];const o=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Regular")),o.characters=t.icon,o.fontSize=24,o.fontName=e.getSafeFont("Inter","Regular"),o.resize(48,48),o.textAlignHorizontal="CENTER",o.textAlignVertical="CENTER",i.appendChild(o),a.appendChild(i);const n=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Bold")),n.characters=t.title,n.fontSize=18,n.fontName=e.getSafeFont("Inter","Bold"),a.appendChild(n);const r=figma.createText();return yield figma.loadFontAsync(e.getSafeFont("Inter","Regular")),r.characters=t.description,r.fontSize=14,r.fontName=e.getSafeFont("Inter","Regular"),r.fills=[{type:"SOLID",color:{r:.5,g:.5,b:.5}}],r.layoutAlign="STRETCH",r.textAutoResize="HEIGHT",a.appendChild(r),a})}static createDashboardLayout(){return T(this,void 0,void 0,function*(){const t=figma.createFrame();t.name="Dashboard Layout",t.resize(1440,900),t.fills=[{type:"SOLID",color:{r:.98,g:.98,b:.99}}];const a=figma.createFrame();a.name="Sidebar",a.resize(260,900),a.fills=[{type:"SOLID",color:{r:.1,g:.1,b:.15}}],a.layoutMode="VERTICAL",a.paddingTop=32,a.paddingLeft=24,a.paddingRight=24,a.itemSpacing=24;const i=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Bold")),i.characters="Dashboard",i.fontSize=24,i.fontName=e.getSafeFont("Inter","Bold"),i.fills=[{type:"SOLID",color:{r:1,g:1,b:1}}],a.appendChild(i);const o=["Overview","Analytics","Products","Customers","Settings"];for(const t of o){const i=figma.createFrame();i.layoutMode="HORIZONTAL",i.paddingLeft=16,i.paddingRight=16,i.paddingTop=12,i.paddingBottom=12,i.cornerRadius=8,i.layoutAlign="STRETCH","Overview"===t&&(i.fills=[{type:"SOLID",color:{r:.2,g:.2,b:.25}}]);const o=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Medium")),o.characters=t,o.fontSize=14,o.fontName=e.getSafeFont("Inter","Medium"),o.fills=[{type:"SOLID",color:{r:.9,g:.9,b:.9}}],i.appendChild(o),a.appendChild(i)}t.appendChild(a);const n=figma.createFrame();n.name="Main Content",n.x=260,n.resize(1180,900),n.layoutMode="VERTICAL",n.paddingTop=32,n.paddingLeft=48,n.paddingRight=48,n.itemSpacing=32;const r=figma.createFrame();r.layoutMode="HORIZONTAL",r.counterAxisAlignItems="CENTER",r.layoutAlign="STRETCH";const s=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Bold")),s.characters="Welcome back!",s.fontSize=32,s.fontName=e.getSafeFont("Inter","Bold"),s.layoutGrow=1,r.appendChild(s);const l=yield h.createShadcnButton({children:"Add New",variant:"default",library:"shadcn"});r.appendChild(l),n.appendChild(r);const c=figma.createFrame();c.layoutMode="HORIZONTAL",c.itemSpacing=24,c.layoutAlign="STRETCH";const d=[{label:"Total Revenue",value:"$45,231.89",change:"+20.1%"},{label:"Subscriptions",value:"+2350",change:"+180.1%"},{label:"Sales",value:"+12,234",change:"+19%"},{label:"Active Now",value:"+573",change:"+201"}];for(const t of d){const a=figma.createFrame();a.layoutMode="VERTICAL",a.itemSpacing=8,a.paddingTop=24,a.paddingBottom=24,a.paddingLeft=24,a.paddingRight=24,a.cornerRadius=12,a.fills=[{type:"SOLID",color:{r:1,g:1,b:1}}],a.layoutGrow=1,a.effects=[{type:"DROP_SHADOW",color:{r:0,g:0,b:0,a:.05},offset:{x:0,y:1},radius:3,visible:!0,blendMode:"NORMAL"}];const i=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Regular")),i.characters=t.label,i.fontSize=14,i.fontName=e.getSafeFont("Inter","Regular"),i.fills=[{type:"SOLID",color:{r:.5,g:.5,b:.5}}],a.appendChild(i);const o=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Bold")),o.characters=t.value,o.fontSize=24,o.fontName=e.getSafeFont("Inter","Bold"),a.appendChild(o);const n=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Regular")),n.characters=t.change+" from last month",n.fontSize=12,n.fontName=e.getSafeFont("Inter","Regular"),n.fills=[{type:"SOLID",color:{r:.3,g:.8,b:.3}}],a.appendChild(n),c.appendChild(a)}return n.appendChild(c),t.appendChild(n),t})}static createDataTable(){return T(this,void 0,void 0,function*(){const t=figma.createFrame();t.name="Data Table",t.resize(800,400),t.layoutMode="VERTICAL",t.cornerRadius=8,t.fills=[{type:"SOLID",color:{r:1,g:1,b:1}}],t.strokes=[{type:"SOLID",color:{r:.9,g:.9,b:.9}}],t.strokeWeight=1;const a=figma.createFrame();a.layoutMode="HORIZONTAL",a.layoutAlign="STRETCH",a.paddingTop=16,a.paddingBottom=16,a.paddingLeft=24,a.paddingRight=24,a.fills=[{type:"SOLID",color:{r:.98,g:.98,b:.99}}];const i=["Name","Status","Date","Amount"],o=[200,150,200,250];for(let t=0;t<i.length;t++){const n=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Medium")),n.characters=i[t]||"",n.fontSize=14,n.fontName=e.getSafeFont("Inter","Medium"),n.fills=[{type:"SOLID",color:{r:.3,g:.3,b:.3}}],n.resize(o[t]||200,20),a.appendChild(n)}t.appendChild(a);const n=[{name:"Olivia Martin",status:"Active",date:"Dec 12, 2023",amount:"$1,999.00"},{name:"Jackson Lee",status:"Pending",date:"Dec 11, 2023",amount:"$39.00"},{name:"Isabella Nguyen",status:"Active",date:"Dec 10, 2023",amount:"$299.00"},{name:"William Kim",status:"Inactive",date:"Dec 9, 2023",amount:"$99.00"},{name:"Sofia Davis",status:"Active",date:"Dec 8, 2023",amount:"$39.00"}];for(const a of n){const i=figma.createFrame();i.layoutMode="HORIZONTAL",i.layoutAlign="STRETCH",i.paddingTop=16,i.paddingBottom=16,i.paddingLeft=24,i.paddingRight=24,i.strokes=[{type:"SOLID",color:{r:.95,g:.95,b:.95}}],i.strokeWeight=1,i.strokeAlign="INSIDE",i.strokeTopWeight=1,i.strokeBottomWeight=0,i.strokeLeftWeight=0,i.strokeRightWeight=0;const n=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Regular")),n.characters=a.name,n.fontSize=14,n.fontName=e.getSafeFont("Inter","Regular"),n.resize(o[0]||200,20),i.appendChild(n);const r=yield h.createShadcnBadge({children:a.status,variant:"Active"===a.status?"default":"Pending"===a.status?"secondary":"outline",size:"sm",library:"shadcn"});i.appendChild(r);const s=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Regular")),s.characters=a.date,s.fontSize=14,s.fontName=e.getSafeFont("Inter","Regular"),s.fills=[{type:"SOLID",color:{r:.5,g:.5,b:.5}}],s.resize(o[2]||200,20),i.appendChild(s);const l=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Medium")),l.characters=a.amount,l.fontSize=14,l.fontName=e.getSafeFont("Inter","Medium"),l.resize(o[3]||250,20),i.appendChild(l),t.appendChild(i)}return t})}static createUserProfileCard(){return T(this,void 0,void 0,function*(){const t=figma.createFrame();t.name="User Profile Card",t.resize(340,400),t.layoutMode="VERTICAL",t.cornerRadius=16,t.fills=[{type:"SOLID",color:{r:1,g:1,b:1}}],t.effects=[{type:"DROP_SHADOW",color:{r:0,g:0,b:0,a:.1},offset:{x:0,y:4},radius:20,visible:!0,blendMode:"NORMAL"}];const a=figma.createRectangle();a.resize(340,120),a.fills=[{type:"GRADIENT_LINEAR",gradientTransform:[[1,0,0],[0,1,0]],gradientStops:[{position:0,color:{r:.388,g:.4,b:.965,a:1}},{position:1,color:{r:.588,g:.6,b:.965,a:1}}]}],t.appendChild(a);const i=figma.createFrame();i.layoutMode="VERTICAL",i.itemSpacing=20,i.paddingTop=60,i.paddingLeft=32,i.paddingRight=32,i.paddingBottom=32,i.layoutAlign="STRETCH",i.layoutGrow=1;const o=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Bold")),o.characters="Sarah Anderson",o.fontSize=24,o.fontName=e.getSafeFont("Inter","Bold"),o.textAlignHorizontal="CENTER",i.appendChild(o);const n=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Regular")),n.characters="Senior Product Designer",n.fontSize=14,n.fontName=e.getSafeFont("Inter","Regular"),n.fills=[{type:"SOLID",color:{r:.5,g:.5,b:.5}}],n.textAlignHorizontal="CENTER",i.appendChild(n);const r=figma.createFrame();r.layoutMode="HORIZONTAL",r.counterAxisAlignItems="CENTER",r.primaryAxisAlignItems="CENTER",r.itemSpacing=32;const s=[{value:"142",label:"Projects"},{value:"24.5k",label:"Followers"},{value:"487",label:"Following"}];for(const t of s){const a=figma.createFrame();a.layoutMode="VERTICAL",a.counterAxisAlignItems="CENTER",a.itemSpacing=4;const i=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Bold")),i.characters=t.value,i.fontSize=20,i.fontName=e.getSafeFont("Inter","Bold"),a.appendChild(i);const o=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Regular")),o.characters=t.label,o.fontSize=12,o.fontName=e.getSafeFont("Inter","Regular"),o.fills=[{type:"SOLID",color:{r:.6,g:.6,b:.6}}],a.appendChild(o),r.appendChild(a)}i.appendChild(r);const l=figma.createText();yield figma.loadFontAsync(e.getSafeFont("Inter","Regular")),l.characters="Passionate about creating beautiful and functional digital experiences. Coffee enthusiast ☕",l.fontSize=14,l.fontName=e.getSafeFont("Inter","Regular"),l.fills=[{type:"SOLID",color:{r:.4,g:.4,b:.4}}],l.textAlignHorizontal="CENTER",l.layoutAlign="STRETCH",l.textAutoResize="HEIGHT",i.appendChild(l);const c=figma.createFrame();c.layoutMode="HORIZONTAL",c.itemSpacing=12,c.layoutAlign="STRETCH";const d=yield h.createShadcnButton({children:"Follow",variant:"default",library:"shadcn"});d.layoutGrow=1,c.appendChild(d);const p=yield h.createShadcnButton({children:"Message",variant:"outline",library:"shadcn"});p.layoutGrow=1,c.appendChild(p),i.appendChild(c),t.appendChild(i);const g=yield h.createShadcnAvatar({size:"lg",initials:"SA",library:"shadcn"});return g.resize(80,80),g.x=130,g.y=80,g.strokeWeight=4,g.strokes=[{type:"SOLID",color:{r:1,g:1,b:1}}],t.appendChild(g),t})}static createTemplate(e){return T(this,void 0,void 0,function*(){try{switch(e){case"loginForm":return yield this.createLoginForm();case"pricingCard":return yield this.createPricingCard("pro");case"featureSection":return yield this.createFeatureSection();case"navigationBar":return yield this.createNavigationBar();case"dashboardLayout":return yield this.createDashboardLayout();case"dataTable":return yield this.createDataTable();case"userProfileCard":return yield this.createUserProfileCard();default:return console.error(`[ProfessionalTemplates] Unknown template type: ${e}`),null}}catch(t){return console.error(`[ProfessionalTemplates] Error creating template ${e}:`,t),null}})}}var L=function(e,t,a,i){return new(a||(a=Promise))(function(o,n){function r(e){try{l(i.next(e))}catch(e){n(e)}}function s(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(r,s)}l((i=i.apply(e,t||[])).next())})};class z{static initialize(){return L(this,void 0,void 0,function*(){this.isInitialized||(this.initializeCategories(),this.initializeShadcnComponents(),this.initializeOnceUIComponents(),this.initializeCustomComponents(),this.isInitialized=!0,console.log("[DesignSystemManager] Initialized with",this.components.size,"components"))})}static initializeCategories(){[{name:"Buttons & Actions",description:"Interactive elements for user actions",icon:"🎯",components:[]},{name:"Forms & Inputs",description:"Input fields and form controls",icon:"📝",components:[]},{name:"Layout & Structure",description:"Containers and layout components",icon:"📐",components:[]},{name:"Data Display",description:"Components for displaying information",icon:"📊",components:[]},{name:"Navigation",description:"Navigation and menu components",icon:"🧭",components:[]},{name:"Feedback & Status",description:"Alerts, badges, and status indicators",icon:"💬",components:[]},{name:"Templates",description:"Pre-built component combinations",icon:"🎨",components:[]}].forEach(e=>this.categories.set(e.name,e))}static initializeShadcnComponents(){[{name:"Shadcn Button",type:"button",category:"atomic",library:"shadcn",description:"A versatile button with multiple variants",props:{variant:["default","destructive","outline","secondary","ghost","link"],size:["default","sm","lg","icon"],disabled:!1,children:"Button"},defaultProps:{variant:"default",size:"default",children:"Click me",library:"shadcn"},variants:["default","destructive","outline","secondary","ghost","link"],tags:["button","action","shadcn","interactive"]},{name:"Shadcn Card",type:"card",category:"molecule",library:"shadcn",description:"A flexible card container with header and content areas",props:{className:"",shadow:!0},defaultProps:{className:"p-6",library:"shadcn"},tags:["card","container","layout","shadcn"]},{name:"Shadcn Input",type:"input",category:"atomic",library:"shadcn",description:"A text input field with consistent styling",props:{placeholder:"Enter text...",size:["default","sm","lg"],disabled:!1},defaultProps:{placeholder:"Type here...",size:"default",library:"shadcn"},tags:["input","form","text","shadcn"]},{name:"Shadcn Badge",type:"badge",category:"atomic",library:"shadcn",description:"A small label for status or categorization",props:{variant:["default","secondary","destructive","outline"],size:["default","sm","lg"],children:"Badge"},defaultProps:{variant:"default",size:"default",children:"New",library:"shadcn"},variants:["default","secondary","destructive","outline"],tags:["badge","label","status","shadcn"]},{name:"Shadcn Switch",type:"switch",category:"atomic",library:"shadcn",description:"A toggle switch for on/off states",props:{checked:!1,disabled:!1},defaultProps:{checked:!1,disabled:!1,library:"shadcn"},tags:["switch","toggle","input","form","shadcn"]},{name:"Shadcn Checkbox",type:"checkbox",category:"atomic",library:"shadcn",description:"A checkbox for selecting options",props:{checked:!1,label:"Checkbox",disabled:!1},defaultProps:{checked:!1,label:"Checkbox",disabled:!1,library:"shadcn"},tags:["checkbox","input","form","shadcn"]},{name:"Shadcn Select",type:"select",category:"atomic",library:"shadcn",description:"A dropdown select component",props:{placeholder:"Select an option",value:"",size:["default","sm","lg"],disabled:!1},defaultProps:{placeholder:"Select an option",size:"default",disabled:!1,library:"shadcn"},tags:["select","dropdown","input","form","shadcn"]},{name:"Shadcn Avatar",type:"avatar",category:"atomic",library:"shadcn",description:"User avatar with image or initials",props:{size:["sm","default","lg"],initials:"JD",src:"",alt:""},defaultProps:{size:"default",initials:"JD",library:"shadcn"},tags:["avatar","user","profile","image","shadcn"]},{name:"Shadcn Alert",type:"alert",category:"molecule",library:"shadcn",description:"Alert message component with variants",props:{variant:["default","destructive","success","warning"],title:"Alert",description:""},defaultProps:{variant:"default",title:"Heads up!",description:"You can add components to your app using the cli.",library:"shadcn"},variants:["default","destructive","success","warning"],tags:["alert","notification","message","feedback","shadcn"]},{name:"Shadcn Progress",type:"progress",category:"atomic",library:"shadcn",description:"Progress bar component",props:{value:50},defaultProps:{value:60,library:"shadcn"},tags:["progress","loading","status","shadcn"]},{name:"Shadcn Skeleton",type:"skeleton",category:"atomic",library:"shadcn",description:"Loading skeleton placeholder",props:{variant:["text","title","avatar","button","card"]},defaultProps:{variant:"text",library:"shadcn"},variants:["text","title","avatar","button","card"],tags:["skeleton","loading","placeholder","shadcn"]},{name:"Shadcn Tabs",type:"tabs",category:"molecule",library:"shadcn",description:"Tab navigation component",props:{tabs:["Tab 1","Tab 2","Tab 3"],activeTab:0},defaultProps:{tabs:["Account","Password","Settings"],activeTab:0,library:"shadcn"},tags:["tabs","navigation","shadcn"]}].forEach(e=>{this.components.set(`${e.library}-${e.type}`,e),this.addComponentToCategory(e)})}static initializeOnceUIComponents(){[{name:"Once UI Button",type:"button",category:"atomic",library:"onceui",description:"Once UI styled button",props:{text:"Button",variant:["primary","secondary","danger"],size:["small","medium","large"]},defaultProps:{text:"Click me",variant:"primary",size:"medium"},tags:["button","action","onceui"]},{name:"Once UI Card",type:"card",category:"molecule",library:"onceui",description:"Once UI card with elevation",props:{title:"Card Title",description:"Card description",elevation:["small","medium","large"]},defaultProps:{title:"Card Title",description:"This is a card component",elevation:"medium"},tags:["card","container","onceui"]}].forEach(e=>{this.components.set(`${e.library}-${e.type}`,e),this.addComponentToCategory(e)})}static initializeCustomComponents(){[{name:"Hero Section",type:"hero",category:"organism",library:"custom",description:"A hero section with headline and CTA",props:{headline:"Welcome to FigBud",subheadline:"Design faster with AI",ctaText:"Get Started"},defaultProps:{headline:"Build Amazing Designs",subheadline:"With the power of AI and modern components",ctaText:"Start Building"},tags:["hero","landing","template","custom"]},{name:"Navigation Bar",type:"navigationBar",category:"organism",library:"custom",description:"A professional navigation bar with logo and links",props:{},defaultProps:{type:"navigationBar"},tags:["navigation","menu","header","custom","template"]},{name:"Feature Card",type:"featureCard",category:"molecule",library:"custom",description:"A card showcasing a feature with icon",props:{icon:"✨",title:"Feature Title",description:"Feature description"},defaultProps:{icon:"🚀",title:"Fast Development",description:"Build components quickly with our AI-powered tools"},tags:["card","feature","showcase","custom"]},{name:"Login Form",type:"loginForm",category:"template",library:"custom",description:"A complete login form with email, password, and social login",props:{},defaultProps:{type:"loginForm"},tags:["form","login","authentication","template","custom"]},{name:"Pricing Card",type:"pricingCard",category:"template",library:"custom",description:"A pricing card with features and CTA button",props:{plan:["free","pro","enterprise"]},defaultProps:{type:"pricingCard",plan:"pro"},tags:["pricing","card","subscription","template","custom"]},{name:"Feature Section",type:"featureSection",category:"template",library:"custom",description:"A complete feature section with grid layout",props:{},defaultProps:{type:"featureSection"},tags:["features","section","grid","template","custom"]},{name:"Dashboard Layout",type:"dashboardLayout",category:"template",library:"custom",description:"Complete dashboard layout with sidebar and stats cards",props:{},defaultProps:{type:"dashboardLayout"},tags:["dashboard","layout","admin","template","custom"]},{name:"Data Table",type:"dataTable",category:"template",library:"custom",description:"Data table with sortable columns and status badges",props:{},defaultProps:{type:"dataTable"},tags:["table","data","grid","template","custom"]},{name:"User Profile Card",type:"userProfileCard",category:"template",library:"custom",description:"User profile card with avatar, stats, and actions",props:{},defaultProps:{type:"userProfileCard"},tags:["profile","user","card","social","template","custom"]}].forEach(e=>{this.components.set(`${e.library}-${e.type}`,e),this.addComponentToCategory(e)})}static addComponentToCategory(e){let t="";t="button"===e.type||e.tags.includes("action")?"Buttons & Actions":"input"===e.type||"checkbox"===e.type||"switch"===e.type||"select"===e.type||"dropdown"===e.type||e.tags.includes("form")?"Forms & Inputs":"card"===e.type||e.tags.includes("container")||e.tags.includes("layout")?"Layout & Structure":"avatar"===e.type||"skeleton"===e.type||e.tags.includes("data")||e.tags.includes("table")||e.tags.includes("list")?"Data Display":"navbar"===e.type||"tabs"===e.type||e.tags.includes("navigation")||e.tags.includes("menu")?"Navigation":"badge"===e.type||"alert"===e.type||"progress"===e.type||e.tags.includes("status")||e.tags.includes("feedback")?"Feedback & Status":"template"===e.category||e.tags.includes("template")?"Templates":"Layout & Structure";const a=this.categories.get(t);a&&a.components.push(e)}static getAllComponents(){return Array.from(this.components.values())}static getComponentsByCategory(e){const t=this.categories.get(e);return t?t.components:[]}static getAllCategories(){return Array.from(this.categories.values())}static searchComponents(e){const t=e.toLowerCase();return this.getAllComponents().filter(e=>e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.tags.some(e=>e.toLowerCase().includes(t))||e.type.toLowerCase().includes(t))}static getComponent(e){return this.components.get(e)}static createComponentInstance(e,t,a){return L(this,void 0,void 0,function*(){const i=this.components.get(e);if(!i)return console.error(`[DesignSystemManager] Component not found: ${e}`),null;const o=Object.assign(Object.assign({},i.defaultProps),t);try{return yield b.createComponent(i.type,o,a),void 0!==i.usage?i.usage++:i.usage=1,null}catch(t){return console.error(`[DesignSystemManager] Error creating component ${e}:`,t),null}})}static createComponentInSandbox(e,t,a){return L(this,void 0,void 0,function*(){const i=this.components.get(e);if(i)try{const e=Object.assign(Object.assign({},i.defaultProps),t);let o=null;if("shadcn"===i.library)o=yield h.createComponent(i.type,e);else{if("custom"!==i.library||"template"!==i.category)return void(yield b.createComponent(i.type,e,{x:0,y:0}));o=yield R.createTemplate(i.type)}o&&(yield x.addComponent(o,{description:i.name,teacherNote:a||`This is a ${i.library} ${i.type} component. ${i.description}`,prompt:`Create ${i.name}`}))}catch(e){console.error("[DesignSystemManager] Error creating component in sandbox:",e),figma.notify(`❌ Failed to create ${i.name}`,{error:!0})}else figma.notify(`❌ Component not found: ${e}`,{error:!0})})}static getPopularComponents(e=10){return this.getAllComponents().sort((e,t)=>(t.usage||0)-(e.usage||0)).slice(0,e)}static getRecentComponents(e=10){return this.getAllComponents().filter(e=>e.createdAt).sort((e,t)=>{var a,i;return((null===(a=t.createdAt)||void 0===a?void 0:a.getTime())||0)-((null===(i=e.createdAt)||void 0===i?void 0:i.getTime())||0)}).slice(0,e)}static exportDesignSystem(){const e={version:"1.0.0",components:this.getAllComponents(),categories:this.getAllCategories().map(e=>({name:e.name,description:e.description,icon:e.icon,componentCount:e.components.length})),metadata:{totalComponents:this.components.size,exportDate:(new Date).toISOString()}};return JSON.stringify(e,null,2)}}z.components=new Map,z.categories=new Map,z.isInitialized=!1,z.initialize();var D=function(e,t,a,i){return new(a||(a=Promise))(function(o,n){function r(e){try{l(i.next(e))}catch(e){n(e)}}function s(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(r,s)}l((i=i.apply(e,t||[])).next())})};console.log("[FigBud Plugin] Initializing...");const M={isUIVisible:!1,sandboxActive:!1,currentUser:null,isMinimized:!1,windowSize:{width:600,height:800}};function E(e){return D(this,void 0,void 0,function*(){const t={children:e&&e.label||"Click me",variant:e&&e.variant||"primary",size:e&&e.size||"medium"};if(e)for(const a in e)e.hasOwnProperty(a)&&!t.hasOwnProperty(a)&&(t[a]=e[a]);yield b.createComponent("button",t)})}function N(e){return D(this,void 0,void 0,function*(){const t={title:e&&e.title||"Card Title",description:e&&e.description||"This is a card component created by FigBud AI.",elevation:e&&e.elevation||"small",radius:e&&e.radius||16,padding:e&&e.padding||24};if(e)for(const a in e)e.hasOwnProperty(a)&&!t.hasOwnProperty(a)&&(t[a]=e[a]);yield b.createComponent("card",t)})}function k(e){return D(this,void 0,void 0,function*(){const t={label:e&&e.label||"Email address",placeholder:e&&e.placeholder||"Enter your email",size:e&&e.size||"medium",variant:e&&e.variant||"default"};if(e)for(const a in e)e.hasOwnProperty(a)&&!t.hasOwnProperty(a)&&(t[a]=e[a]);yield b.createComponent("input",t)})}function B(e){const t=figma.viewport.center;"x"in e&&"y"in e&&(e.x=Math.round(t.x-e.width/2),e.y=Math.round(t.y-e.height/2))}!function(){D(this,void 0,void 0,function*(){try{yield e.preloadAllFonts(),console.log("[FigBud Plugin] Fonts loaded successfully"),yield b.initialize();const t=yield figma.clientStorage.getAsync("windowSize");t&&(M.windowSize=t);const a=yield figma.clientStorage.getAsync("isMinimized");void 0!==a&&(M.isMinimized=a);const i=M.isMinimized?70:M.windowSize.width,o=M.isMinimized?70:M.windowSize.height;if(figma.showUI(__html__,{width:i,height:o,title:"FigBud",visible:!0}),console.log("[FigBud Plugin] UI HTML loaded, window should be visible"),figma.ui.postMessage({type:"init-state",isMinimized:M.isMinimized,windowSize:M.windowSize}),figma.command)switch(figma.command){case"open":figma.ui.show(),M.isUIVisible=!0,figma.ui.postMessage({type:"navigate",view:"chat"});break;case"open-sandbox":figma.ui.show(),M.isUIVisible=!0,M.sandboxActive=!0,figma.ui.postMessage({type:"navigate",view:"sandbox"});break;case"quick-button":yield E();break;case"quick-card":yield N();break;case"quick-input":yield k();break;default:figma.ui.show(),M.isUIVisible=!0}function n(){const e={selection:figma.currentPage.selection.map(e=>({id:e.id,name:e.name,type:e.type})),currentPage:{id:figma.currentPage.id,name:figma.currentPage.name},viewport:{center:figma.viewport.center,zoom:figma.viewport.zoom},user:figma.currentUser};figma.ui.postMessage({type:"context-response",payload:e})}function r(e){return D(this,void 0,void 0,function*(){var t,a,i;try{const o=e.toLowerCase();if(o.includes("clear sandbox")||o.includes("clear the sandbox"))return yield x.clearSandbox(),void figma.ui.postMessage({type:"bot-response",message:"🧹 Cleared the sandbox!",suggestions:["Create a button","Create a card","Create an input"]});if(o.includes("show sandbox")||o.includes("focus sandbox"))return x.focusSandbox(),void figma.ui.postMessage({type:"bot-response",message:"👀 Focused on the sandbox!",suggestions:["Create a component","Clear the sandbox"]});const n=yield O.processMessage(e,{selection:figma.currentPage.selection,currentPage:figma.currentPage.name});if(console.log("[FigBud] AI Response structure:",{hasMessage:!!n.message,hasText:!!n.text,messageType:typeof n.message,messagePreview:null===(t=n.message)||void 0===t?void 0:t.substring(0,100),fullResponse:n}),figma.ui.postMessage({type:"bot-response",message:n.message,suggestions:n.suggestions,metadata:{action:null===(a=n.action)||void 0===a?void 0:a.type,componentSpec:n.componentSpec}}),"create_component"===(null===(i=n.action)||void 0===i?void 0:i.type)&&n.componentSpec){const e=x.getStats();console.log("[FigBud] Sandbox stats:",e)}}catch(e){console.error("[FigBud] Error handling chat message:",e),figma.ui.postMessage({type:"bot-response",message:`Sorry, I encountered an error: ${e}`,suggestions:["Try a simpler request","Create a button","Create a card"]})}})}function s(e){return D(this,void 0,void 0,function*(){const{type:t,properties:a}=e;switch(t){case"button":E(a);break;case"card":N(a);break;case"input":k(a);break;default:throw new Error(`Unknown component type: ${t}`)}figma.ui.postMessage({type:"component-created",payload:{type:t,success:!0}})})}function l(e,t,a){return D(this,void 0,void 0,function*(){try{console.log("[FigBud Plugin] Creating design system component:",e,t),yield z.initialize();const i=z.getComponent(e);if(!i)throw new Error(`Component not found: ${e}`);const o=Object.assign(Object.assign({},i.defaultProps),t);let n=null;if("shadcn"===i.library?n=yield h.createComponent(i.type,o):"custom"===i.library&&"template"===i.category?n=yield R.createTemplate(i.type):yield b.createComponent(i.type,o),n){const e=figma.viewport.center;"x"in n&&"y"in n&&"width"in n&&"height"in n&&(n.x=Math.round(e.x-n.width/2),n.y=Math.round(e.y-n.height/2)),figma.currentPage.selection=[n],figma.viewport.scrollAndZoomIntoView([n])}figma.ui.postMessage({type:"component-created",componentName:a||e,success:!0}),figma.notify(`✨ Created ${a||i.name}!`)}catch(e){console.error("[FigBud Plugin] Error creating design system component:",e),figma.ui.postMessage({type:"error",error:e instanceof Error?e.message:"Failed to create component"})}})}function c(e){return D(this,void 0,void 0,function*(){const{template:t,step:a}=e;try{if(a&&a.code){switch(console.log("[FigBud Sandbox] Executing step:",a.title),t.id){case"button":if("button-1"===a.id){const e=figma.createRectangle();e.resize(120,48),e.cornerRadius=8,e.fills=[{type:"SOLID",color:{r:.388,g:.4,b:.965}}],B(e)}break;case"card":if("card-1"===a.id){const e=figma.createFrame();e.resize(320,400),e.cornerRadius=16,e.fills=[{type:"SOLID",color:{r:1,g:1,b:1}}],B(e)}break;case"input":if("input-1"===a.id){const e=figma.createFrame();e.layoutMode="VERTICAL",e.itemSpacing=8,B(e)}}figma.notify(`✅ Step completed: ${a.title}`)}figma.ui.postMessage({type:"sandbox-step-complete",payload:{templateId:t.id,stepId:a.id}})}catch(e){console.error("[FigBud Sandbox] Error:",e),figma.notify("❌ Failed to complete step",{error:!0})}})}figma.ui.onmessage=e=>D(this,void 0,void 0,function*(){console.log("[FigBud Plugin] Received message:",e.type);try{switch(e.type){case"get-context":n();break;case"create-component":e.componentId&&e.props?yield l(e.componentId,e.props,e.componentName):yield s(e.payload);break;case"create-sandbox-component":yield c(e.payload);break;case"chat-message":yield r(e.message);break;case"resize":M.windowSize={width:e.width,height:e.height},figma.ui.resize(e.width,e.height),figma.clientStorage.setAsync("windowSize",M.windowSize);break;case"minimize":M.isMinimized=!0,figma.ui.resize(70,70),figma.clientStorage.setAsync("isMinimized",!0);break;case"maximize":M.isMinimized=!1,figma.ui.resize(M.windowSize.width,M.windowSize.height),figma.clientStorage.setAsync("isMinimized",!1);break;case"close":figma.closePlugin();break;case"get-user":figma.ui.postMessage({type:"user-response",payload:figma.currentUser});break;default:console.warn("[FigBud Plugin] Unknown message type:",e.type)}}catch(e){console.error("[FigBud Plugin] Error handling message:",e),figma.ui.postMessage({type:"error",error:e instanceof Error?e.message:"An error occurred"})}}),console.log("[FigBud Plugin] Ready! Use the menu commands or open the UI.")}catch(d){console.error("[FigBud Plugin] Failed to initialize:",d),figma.notify("Failed to initialize FigBud. Please try again.",{error:!0}),figma.closePlugin()}})}()})();